{"name":"pyramids_from_pgons_func","author":"new_user","flowchart":{"name":"PyramidFromPolygon","description":"Takes a list of polygons, and extrudes them into pyramids. \n\nThis model is designed to work as a user defined function. \n\nFirst, it has some test data in the start node. This test data is not executed when it is imported into another Mobius model. It is only required for testing that this model actually works and does what is expected.\n\nSecond, it has an input parameter that accepts either a single polygon ID, or a list of IDs of the polygons. These are the polygons to convert into pyramids. When it is imported into another Mobius model, this will be the first input argument. It allows you to then specify which polygons to convert into pyramids. \n\nThird, it returns the new polygons that it creates. In this model, all new polygons are saved in a model attribute called '@ret'. In the end node, the return value is '@ret', which is the list of all the polygon IDs. \n\n","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_wtw95f5ulie","position":{"x":5350,"y":5000},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":8,"ID":"prod-ymqeixgvsx","enabled":true,"print":false,"meta":{"module":"pattern","name":"Arc"},"argCount":6,"args":[{"name":"var_name","value":"posis1","jsValue":"posis1_"},{"name":"__model__","default":0},{"name":"origin","value":"[-30, 0, 0]","default":0,"jsValue":"[-30, 0, 0]","usedVars":[]},{"name":"radius","value":"12","default":0,"jsValue":"12","usedVars":[]},{"name":"num_positions","value":"7","default":0,"jsValue":"7","usedVars":[]},{"name":"arc_angle","value":"null","default":0,"jsValue":"null","usedVars":[]}],"variable":"posis1"},{"type":8,"ID":"prod-yl1wrt2dek","enabled":true,"print":false,"meta":{"module":"pattern","name":"Arc"},"argCount":6,"args":[{"name":"var_name","value":"posis2","jsValue":"posis2_"},{"name":"__model__","default":0},{"name":"origin","value":"[30, 0, 0]","default":0,"jsValue":"[30, 0, 0]","usedVars":[]},{"name":"radius","value":"13","default":0,"jsValue":"13","usedVars":[]},{"name":"num_positions","value":"5","default":0,"jsValue":"5","usedVars":[]},{"name":"arc_angle","value":"null","default":0,"jsValue":"null","usedVars":[]}],"variable":"posis2"},{"type":8,"ID":"prod-qx2ec76x9pn","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"pgon1","jsValue":"pgon1_"},{"name":"__model__","default":0},{"name":"positions","value":"posis1","default":0,"jsValue":"posis1_","usedVars":["posis1"]}],"variable":"pgon1"},{"type":8,"ID":"prod-vvhwp1ymhmt","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"pgon2","jsValue":"pgon2_"},{"name":"__model__","default":0},{"name":"positions","value":"posis2","default":0,"jsValue":"posis2_","usedVars":["posis2"]}],"variable":"pgon2"},{"type":8,"ID":"prod-7z3j61i9g3r","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"pgons3","jsValue":"pgons3_"},{"name":"__model__","default":0},{"name":"entities","default":0,"value":"pgon2","jsValue":"pgon2_","usedVars":["pgon2"]},{"name":"distance","default":0,"value":"10","jsValue":"10","usedVars":[]},{"name":"divisions","default":0,"value":"1","jsValue":"1","usedVars":[]},{"name":"method","default":0,"value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"pgons3"},{"type":8,"ID":"prod-jshzx3pcim","enabled":true,"print":false,"meta":{"module":"edit","name":"Reverse"},"argCount":3,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"pgon2","usedVars":["pgon2"],"jsValue":"pgon2_"}]},{"type":8,"ID":"prod-d6yp292yo9","enabled":true,"print":false,"meta":{"module":"query","name":"Get"},"argCount":4,"args":[{"name":"var_name","value":"all_pgons","jsValue":"all_pgons_"},{"name":"__model__"},{"name":"ent_type_enum","value":"'pg'","jsValue":"'pg'","usedVars":[]},{"name":"entities","value":"null","jsValue":"null","usedVars":[]}],"variable":"all_pgons"},{"type":10,"ID":"prod-6z4cnf6i78s","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":0,"description":"A single polygon, or a list of polygons, to convert into pyramids."},"args":[{"name":"const_name","value":"PGONS","default":0,"jsValue":"PGONS_"},{"name":"__input__","default":"all_pgons","value":"all_pgons","jsValue":"all_pgons_","usedVars":["all_pgons"]}],"selectGeom":true},{"type":10,"ID":"prod-vvtj0i3inbk","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":1,"description":"The hight of the pyramid"},"args":[{"name":"const_name","value":"HEIGHT","default":0,"jsValue":"HEIGHT_"},{"name":"__input__","default":55.8,"step":"0.1","min":"0","max":"100","value":23.4}]}],"state":{"procedure":[],"show_code":false,"show_func":false},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Node","id":"node_45vhngjrtw4","position":{"x":5350,"y":5200},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":0,"ID":"prod-9afr7br6sus","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"@triangles","jsValue":"@triangles","usedVars":[]},{"name":"value","value":"[]","jsValue":"[]","usedVars":[]}],"variable":null},{"type":0,"ID":"prod-gakbh0p38uk","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons_list","jsValue":"pgons_list_"},{"name":"value","value":"PGONS","jsValue":"PGONS_","usedVars":["PGONS"]}],"variable":"pgons_list"},{"type":1,"ID":"prod-sack30vk0so","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"!isList(PGONS)","jsValue":"!isList(__debug__, PGONS_)","usedVars":["PGONS"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~3","ID":"prod-333hk0elzhm","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons_list","jsValue":"pgons_list_"},{"name":"value","value":"[PGONS]","jsValue":"[PGONS_]","usedVars":["PGONS"]}],"variable":"pgons_list"}]},{"type":4,"ID":"prod-xuvziqubkzl","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"pgon","jsValue":"pgon_"},{"name":"list","value":"pgons_list","default":[],"jsValue":"pgons_list_","usedVars":["pgons_list"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":8,"ID":"prod-bgb4mh9cred","enabled":true,"print":false,"meta":{"module":"calc","name":"Ray"},"argCount":3,"args":[{"name":"var_name","value":"ray","jsValue":"ray_"},{"name":"__model__"},{"name":"entities","value":"pgon","jsValue":"pgon_","usedVars":["pgon"]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4","variable":"ray"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4","ID":"prod-pz7ok8laj","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xyz","jsValue":"xyz_"},{"name":"value","value":"vecAdd(ray[0], vecMult(ray[1], HEIGHT))","jsValue":"vecAdd(__debug__, ray_[pythonList(0, ray_.length)], vecMult(__debug__, ray_[pythonList(1, ray_.length)], HEIGHT_))","usedVars":["HEIGHT","ray"]}],"variable":"xyz"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4","ID":"prod-lhvgkkgxq1n","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"cen_pos","jsValue":"cen_pos_"},{"name":"__model__","default":0},{"name":"coords","value":"xyz","default":0,"jsValue":"xyz_","usedVars":["xyz"]}],"variable":"cen_pos"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4","ID":"prod-5fq4i420je","enabled":true,"print":false,"meta":{"module":"query","name":"Get"},"argCount":4,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"__model__"},{"name":"ent_type_enum","value":"'_e'","jsValue":"'_e'","usedVars":[]},{"name":"entities","value":"pgon","jsValue":"pgon_","usedVars":["pgon"]}],"variable":"edges"},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4","ID":"prod-q6po7vk20vf","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"edges","default":[],"jsValue":"edges_","usedVars":["edges"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4~children~5","ID":"prod-5n7obxzxpbo","enabled":true,"print":false,"meta":{"module":"query","name":"Get"},"argCount":4,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"ent_type_enum","value":"'ps'","jsValue":"'ps'","usedVars":[]},{"name":"entities","value":"edge","jsValue":"edge_","usedVars":["edge"]}],"variable":"posis"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4~children~5","ID":"prod-s2g02xkg0ta","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"posis","default":0,"jsValue":"posis_","usedVars":["posis"]},{"name":"item","value":"cen_pos","default":0,"jsValue":"cen_pos_","usedVars":["cen_pos"]},{"name":"method","value":"'to_end'","default":0,"jsValue":"'to_end'","usedVars":[]}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4~children~5","ID":"prod-8knixe5hwq9","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"tri","jsValue":"tri_"},{"name":"__model__","default":0},{"name":"positions","value":"posis","default":0,"jsValue":"posis_","usedVars":["posis"]}],"variable":"tri"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~4~children~5","ID":"prod-zzx5x8nv1xj","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"@triangles","default":0,"jsValue":"__modules__.attrib.Get(__params__.model, null, 'triangles')","usedVars":[]},{"name":"item","value":"tri","default":0,"jsValue":"tri_","usedVars":["tri"]},{"name":"method","value":"'to_end'","default":0,"jsValue":"'to_end'","usedVars":[]}]}],"variable":"edge"}],"variable":"pgon"}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_bjgotpq2jqe","position":{"x":5350,"y":5400},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","default":0},{"name":"value","value":"@triangles","default":0,"jsValue":"__modules__.attrib.Get(__params__.model, null, 'triangles')","usedVars":[]}],"print":false,"enabled":true}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"model":4}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode","model":null},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"model":3}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0","model":null},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"model":2},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"functions":[],"ordered":true,"returnDescription":"The triangular polygons resulting from the pyramid operation.","id":"c464a2e5-3559-6d51-aad5-f02425b2dc32","last_updated":"2020-12-29T08:43:24.117Z"},"version":"0.7.1","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":false,\"background_set\":0},\"positions\":{\"show\":true,\"size\":0.5},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":false},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-79.99999999999974,\"y\":-79.99999999999979,\"z\":79.99999999999982},\"target\":{\"x\":0,\"y\":0,\"z\":0},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":2048},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.5.77\"}"}