{"name":"Proximity Analysis","author":"new_user","flowchart":{"id":"b1bf98af-c352-871e-461f-fb4c7cbae77b","name":"Proximity Analysis","description":"","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_jrmj81qvbj","position":{"x":4600,"y":4560},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":false,"show_func":false},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"grid","id":"node_bbx8b3y3dzt","position":{"x":4760,"y":4700},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-hrr76twbp4w","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_size","jsValue":"grid_size_"},{"name":"value","value":"800","usedVars":[],"jsValue":"800"}],"variable":"grid_size","selectGeom":false},{"type":0,"ID":"prod-vax2srgeuxq","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"cell_size","jsValue":"cell_size_"},{"name":"value","value":"18","usedVars":[],"jsValue":"18"}],"variable":"cell_size"},{"type":8,"ID":"prod-bjzj2hq4ycu","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"grid_posis","jsValue":"grid_posis_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"grid_size","usedVars":["grid_size"],"jsValue":"grid_size_"},{"name":"num_positions","value":"round(grid_size / cell_size)","usedVars":["grid_size","cell_size"],"jsValue":"round(grid_size_ / cell_size_)"},{"name":"method","value":"'quads'","usedVars":[],"jsValue":"'quads'"}],"variable":"grid_posis"},{"type":8,"ID":"prod-1koecpwp8p8","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"cells","jsValue":"cells_"},{"name":"__model__"},{"name":"entities","value":"grid_posis","usedVars":["grid_posis"],"jsValue":"grid_posis_"}],"variable":"cells"},{"type":14,"ID":"prod-uw2luc2j2ua","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Collection"}],"selectGeom":false},{"type":8,"ID":"prod-euv9408h7j","enabled":true,"print":false,"meta":{"module":"collection","name":"Create"},"argCount":4,"args":[{"name":"var_name","value":"coll","jsValue":"coll_"},{"name":"__model__"},{"name":"entities","value":"#pg","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pg', null)"},{"name":"name","value":"\"cells\"","usedVars":[],"jsValue":"\"cells\""}],"variable":"coll","selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":[{"source":{"name":"output","type":1,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0"],"meta":{"mode":0},"parentNode":{"name":"calculate proximity to transport","id":"node_fvynf20hsu","position":{"x":4560,"y":4840},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-xipj2xrnc7","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"roads_coll","jsValue":"roads_coll_"},{"name":"__model__"},{"name":"names","value":"\"roads\"","usedVars":[],"jsValue":"\"roads\""}],"variable":"roads_coll"},{"type":0,"ID":"prod-0d08631pns1","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"network","jsValue":"network_"},{"name":"value","value":"roads_coll#pl","usedVars":["roads_coll"],"jsValue":"__modules__.query.Get(__params__.model, 'pl', roads_coll_)"}],"variable":"network"},{"type":0,"ID":"prod-caz1nimnib6","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"transport_nodes","jsValue":"transport_nodes_"},{"name":"value","value":"roads_coll#ps ?@type==\"transport_node\"","usedVars":["roads_coll"],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', roads_coll_), ['type', null], '==', \"transport_node\")"}],"variable":"transport_nodes","selectGeom":false},{"type":14,"ID":"prod-iwwe1wrml5","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Divide the roads into smaller segments, for bus stops"}]},{"type":8,"ID":"prod-h7aoibp6hx","enabled":true,"print":false,"meta":{"module":"make","name":"Divide"},"argCount":5,"args":[{"name":"var_name","value":"div","jsValue":"div_"},{"name":"__model__"},{"name":"entities","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"divisor","value":"100","usedVars":[],"jsValue":"100"},{"name":"method","value":"'by_max_length'","jsValue":"'by_max_length'","usedVars":[]}],"variable":"div","selectGeom":false},{"type":14,"ID":"prod-0ajo7q8khdup","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calculate weights, equal to edge length"}]},{"type":0,"ID":"prod-malisu66q3p","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"network#_e","usedVars":["network"],"jsValue":"__modules__.query.Get(__params__.model, '_e', network_)"}],"variable":"edges","selectGeom":false},{"type":8,"ID":"prod-1zqerpiow8","enabled":true,"print":false,"meta":{"module":"calc","name":"Length"},"argCount":3,"args":[{"name":"var_name","value":"weights","jsValue":"weights_"},{"name":"__model__"},{"name":"entities","value":"edges","usedVars":["edges"],"jsValue":"edges_"}],"variable":"weights","selectGeom":false},{"type":8,"ID":"prod-msrdkgkpdcm","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"edges","usedVars":["edges"],"jsValue":"edges_"},{"name":"attrib","value":"\"weight\"","usedVars":[],"jsValue":"\"weight\""},{"name":"value","value":"weights","usedVars":["weights"],"jsValue":"weights_"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":14,"ID":"prod-hd7sxr2mmgs","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calc proximity to closest transport node"}],"selectGeom":false},{"type":8,"ID":"prod-e74euz34bbd","enabled":true,"print":false,"meta":{"module":"analyze","name":"ClosestPath"},"argCount":7,"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"__model__"},{"name":"source","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"target","value":"transport_nodes","usedVars":["transport_nodes"],"jsValue":"transport_nodes_"},{"name":"entities","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"method","value":"'undirected'","jsValue":"'undirected'","usedVars":[]},{"name":"result","value":"'distances'","jsValue":"'distances'","usedVars":[]}],"variable":"result","selectGeom":false},{"type":14,"ID":"prod-c1qo39y8u5a","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Create attribute"}]},{"type":8,"ID":"prod-xxpnwgnsn1","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['source_posis']","usedVars":["result"],"jsValue":"result_['source_posis']"},{"name":"attrib","value":"\"dist_transport_node\"","usedVars":[],"jsValue":"\"dist_transport_node\""},{"name":"value","value":"result['distances']","usedVars":["result"],"jsValue":"result_['distances']"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasError":false,"hasExecuted":true,"input":{"name":"input","type":0,"edges":[{"source":{"name":"output","type":1,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0",{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"check roads connections","id":"node_j47vbfeksr","position":{"x":4380,"y":4700},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-vq29j7n2fu","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"roads_coll","jsValue":"roads_coll_"},{"name":"__model__"},{"name":"names","value":"\"roads\"","usedVars":[],"jsValue":"\"roads\""}],"variable":"roads_coll","selectGeom":false},{"type":0,"ID":"prod-3fmspzpdpd5","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"network","jsValue":"network_"},{"name":"value","value":"roads_coll#pl","usedVars":["roads_coll"],"jsValue":"__modules__.query.Get(__params__.model, 'pl', roads_coll_)"}],"variable":"network","selectGeom":false},{"type":0,"ID":"prod-npnswlnp3pr","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"network#ps","usedVars":["network"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', network_)"}],"variable":"posis"},{"type":4,"ID":"prod-25c33ke43at","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"children":[{"type":13,"ID":"prod-72ycne6qqv9","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4","ID":"prod-fvfircu65md","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"posi#_e","usedVars":["posi"],"jsValue":"__modules__.query.Get(__params__.model, '_e', posi_)"}],"variable":"edges","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4","ID":"prod-6ojigv0sq3s","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"len(edges) > 2","usedVars":["edges"],"jsValue":"len(edges_) > 2"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2","ID":"prod-hw0sb3ys40u","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xyz","jsValue":"xyz_"},{"name":"value","value":"posi@xyz","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'xyz')"}],"variable":"xyz","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2","ID":"prod-mwjyz3c2r8d","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p1","jsValue":"p1_"},{"name":"__model__"},{"name":"coords","value":"[xyz[0], xyz[1], xyz[2] + 30]","usedVars":["xyz"],"jsValue":"[xyz_[pythonList(0, xyz_.length)], xyz_[pythonList(1, xyz_.length)], xyz_[pythonList(2, xyz_.length)] + 30]"}],"variable":"p1","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2","ID":"prod-u0xrfzh3xcn","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p2","jsValue":"p2_"},{"name":"__model__"},{"name":"coords","value":"[xyz[0], xyz[1], xyz[2] + 50]","usedVars":["xyz"],"jsValue":"[xyz_[pythonList(0, xyz_.length)], xyz_[pythonList(1, xyz_.length)], xyz_[pythonList(2, xyz_.length)] + 50]"}],"variable":"p2","selectGeom":false},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2","ID":"prod-6vo3goucm9f","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"edges","usedVars":["edges"],"jsValue":"edges_"}],"children":[{"type":13,"ID":"prod-69uu9jrhm94","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","ID":"prod-qqj1eprxgt","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edge_posis","jsValue":"edge_posis_"},{"name":"value","value":"edge#ps","usedVars":["edge"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', edge_)"}],"variable":"edge_posis","selectGeom":false},{"type":8,"ID":"prod-24y2nz801dr","enabled":true,"print":false,"meta":{"module":"calc","name":"Vector"},"argCount":3,"args":[{"name":"var_name","value":"edge_vec","jsValue":"edge_vec_"},{"name":"__model__"},{"name":"entities","usedVars":["edge"],"value":"edge","jsValue":"edge_"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","variable":"edge_vec"},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","ID":"prod-l3af1f5zpy","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"vecLen(edge_vec) == 0","usedVars":["edge_vec"],"jsValue":"vecLen(edge_vec_) == 0"}],"children":[{"type":13,"ID":"prod-k2ab71aobs","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":7,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~3","ID":"prod-seadd3wkefg","enabled":true,"print":false,"argCount":0,"args":[],"selectGeom":false}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","ID":"prod-pwl0k8vonb8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"c3","jsValue":"c3_"},{"name":"value","value":"null","usedVars":[],"jsValue":"null"}],"variable":"c3","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","ID":"prod-1vnv5p2md4c","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"edge_posis[0] == posi","usedVars":["edge_posis","posi"],"jsValue":"edge_posis_[pythonList(0, edge_posis_.length)] == posi_"}],"children":[{"type":13,"ID":"prod-4v15nt9beeb","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~5","ID":"prod-cpaoztb7fqi","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"c3","jsValue":"c3_"},{"name":"value","value":"vecAdd(xyz, vecSetLen(edge_vec, 3))","usedVars":["edge_vec","xyz"],"jsValue":"vecAdd(xyz_, vecSetLen(edge_vec_, 3))"}],"variable":"c3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~5","ID":"prod-sschsrdwbo","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p3","jsValue":"p3_"},{"name":"__model__"},{"name":"coords","value":"c3","usedVars":["c3"],"jsValue":"c3_"}],"variable":"p3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~5","ID":"prod-isw1uezg7t","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pl","jsValue":"pl_"},{"name":"__model__"},{"name":"entities","value":"[p1, p3]","usedVars":["p3","p1"],"jsValue":"[p1_, p3_]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"pl","selectGeom":false}],"selectGeom":false},{"type":3,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4","ID":"prod-rl5r9ubs5n","enabled":true,"print":false,"argCount":0,"args":[],"children":[{"type":13,"ID":"prod-iappvbnx4pl","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~6","ID":"prod-jzirjn9c4e9","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"c3","jsValue":"c3_"},{"name":"value","value":"vecSub(xyz, vecSetLen(edge_vec, 3))","usedVars":["edge_vec","xyz"],"jsValue":"vecSub(xyz_, vecSetLen(edge_vec_, 3))"}],"variable":"c3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~6","ID":"prod-bo2mwnhpdg7","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p3","jsValue":"p3_"},{"name":"__model__"},{"name":"coords","value":"c3","usedVars":["c3"],"jsValue":"c3_"}],"variable":"p3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode~procedure~4~children~2~children~4~children~6","ID":"prod-4q8snd3lznr","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pl","jsValue":"pl_"},{"name":"__model__"},{"name":"entities","value":"[p2, p3]","usedVars":["p3","p2"],"jsValue":"[p2_, p3_]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"pl","selectGeom":false}],"selectGeom":false}],"variable":"edge","selectGeom":false}]}],"variable":"posi","selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasExecuted":true,"hasError":false,"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode"}}},"selected":false}],"meta":{"mode":0},"parentNode":{"name":"roads","id":"node_y1dneo4ur4","position":{"x":4560,"y":4700},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":14,"ID":"prod-sliqhsoo5ao","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Create a grid of polylines"}]},{"type":8,"ID":"prod-n8v2ol2ksvr","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"rows","jsValue":"rows_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"[800, 700]","usedVars":[],"jsValue":"[800, 700]"},{"name":"num_positions","value":"[4, 7]","usedVars":[],"jsValue":"[4, 7]"},{"name":"method","value":"'rows'","usedVars":[],"jsValue":"'rows'"}],"variable":"rows"},{"type":8,"ID":"prod-2cxkt5bfokn","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"rows_plines","jsValue":"rows_plines_"},{"name":"__model__"},{"name":"entities","value":"rows","usedVars":["rows"],"jsValue":"rows_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"rows_plines"},{"type":8,"ID":"prod-3t362vo4n6i","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"cols","jsValue":"cols_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"[700, 800]","usedVars":[],"jsValue":"[700, 800]"},{"name":"num_positions","value":"[6, 4]","usedVars":[],"jsValue":"[6, 4]"},{"name":"method","value":"'columns'","usedVars":[],"jsValue":"'columns'"}],"variable":"cols","selectGeom":false},{"type":8,"ID":"prod-uk5gor1nl3","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"rows_plines","jsValue":"rows_plines_"},{"name":"__model__"},{"name":"entities","value":"cols","usedVars":["cols"],"jsValue":"cols_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"rows_plines","selectGeom":false},{"type":0,"ID":"prod-73s759c948","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"0","usedVars":[],"jsValue":"0"}],"variable":"rand_seed"},{"type":4,"ID":"prod-qrb7jonnke","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"#ps","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'ps', null)"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~7","ID":"prod-mi8grw3yjo","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1.234","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1.234"}],"variable":"rand_seed"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~7","ID":"prod-3hxk932e8xh","enabled":true,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"posi","usedVars":["posi"],"jsValue":"posi_"},{"name":"vectors","value":"[rand(-15, 15, rand_seed), rand(-15, 15, rand_seed + 0.1), 0]","usedVars":["rand_seed"],"jsValue":"[rand(-15, 15, rand_seed_), rand(-15, 15, rand_seed_ + 0.1), 0]"}]}],"variable":"posi"},{"type":14,"ID":"prod-tiivn281nkd","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Stitch the polylines"}]},{"type":8,"ID":"prod-i21pqjg3wx","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Stitch"},"argCount":3,"args":[{"name":"var_name","value":"new_plines","jsValue":"new_plines_"},{"name":"__model__"},{"name":"entities","value":"#pl","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pl', null)"}],"variable":"new_plines"},{"type":14,"ID":"prod-c4fxmbyv7","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Stitching generates new polylines so del the old ones"}]},{"type":8,"ID":"prod-fzw74rmg16","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"new_plines","usedVars":["new_plines"],"jsValue":"new_plines_"},{"name":"method","value":"'keep_selected'","usedVars":[],"jsValue":"'keep_selected'"}]},{"type":14,"ID":"prod-9gvo7v5in9m","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Collection"}],"selectGeom":false},{"type":8,"ID":"prod-2w85m6vl9sf","enabled":true,"print":false,"meta":{"module":"collection","name":"Create"},"argCount":4,"args":[{"name":"var_name","value":"coll","jsValue":"coll_"},{"name":"__model__"},{"name":"entities","value":"#pl","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pl', null)"},{"name":"name","value":"\"roads\"","usedVars":[],"jsValue":"\"roads\""}],"variable":"coll","selectGeom":false},{"type":14,"ID":"prod-xqy1w6yaqe","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Set transport nodes"}],"selectGeom":false},{"type":0,"ID":"prod-ocp9mz7j3o","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"transport_nodes","jsValue":"transport_nodes_"},{"name":"value","usedVars":[],"value":"randPick(l#ps , 3, 0.123)","jsValue":"randPick( __modules__.query.Get(__params__.model, 'ps', l_), 3, 0.123)"}],"variable":"transport_nodes","selectGeom":false},{"type":0,"ID":"prod-1x8r1www3c2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"#ps","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'ps', null)"}],"variable":"posis","selectGeom":false},{"type":0,"ID":"prod-5ohbzuyljah","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"transport_nodes","jsValue":"transport_nodes_"},{"name":"value","usedVars":["posis"],"value":"listGet(posis, [62, 83])","jsValue":"listGet(posis_, [62, 83])"}],"variable":"transport_nodes","selectGeom":false},{"type":0,"ID":"prod-rrx3m01d2pr","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"transport_nodes@type","jsValue":"transport_nodes_@type","usedVars":["transport_nodes"]},{"name":"value","value":"\"transport_node\"","usedVars":[],"jsValue":"\"transport_node\""}],"variable":null},{"type":4,"ID":"prod-0knp13evp65l","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"transport_node","jsValue":"transport_node_"},{"name":"list","value":"transport_nodes","usedVars":["transport_nodes"],"jsValue":"transport_nodes_"}],"children":[{"type":13,"ID":"prod-me7ifiu3wv","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~19","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~19","ID":"prod-qijx7jfjofr","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"transport_node","usedVars":["transport_node"],"jsValue":"transport_node_"},{"name":"dist","value":"100","usedVars":[],"jsValue":"100"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~19","ID":"prod-8tjyefxy3cp","enabled":true,"print":false,"meta":{"module":"pattern","name":"Box"},"argCount":6,"args":[{"name":"var_name","value":"box_posis","jsValue":"box_posis_"},{"name":"__model__"},{"name":"origin","value":"vecAdd(transport_node@xyz , [0, 0, 100])","usedVars":["transport_node"],"jsValue":"vecAdd( __modules__.attrib.Get(__params__.model, transport_node_, 'xyz'), [0, 0, 100])"},{"name":"size","value":"50","usedVars":[],"jsValue":"50"},{"name":"num_positions","value":"2","usedVars":[],"jsValue":"2"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"box_posis","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~19","ID":"prod-teqg8wuq9f","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"box","jsValue":"box_"},{"name":"__model__"},{"name":"entities","value":"box_posis","usedVars":["box_posis"],"jsValue":"box_posis_"}],"variable":"box","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~procedure~19","ID":"prod-zqdocnt7j2","enabled":true,"print":false,"meta":{"module":"visualize","name":"Color"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"box","usedVars":["box"],"jsValue":"box_"},{"name":"color","value":"[1, 0, 0]","usedVars":[],"jsValue":"[1, 0, 0]"}],"selectGeom":false}],"variable":"transport_node","selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasError":false,"hasExecuted":true,"input":{"name":"input","type":0,"edges":[{"source":"~flowchart~nodes~0~output","target":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input","selected":false}],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode"},"output":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source"}},"target":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input","selected":false}],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode"},"output":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source"}},"target":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","selected":false},"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"calculate proximity to road","id":"node_bwkx8ivhp15","position":{"x":4760,"y":4840},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-qr5is9k9b3","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"roads_coll","jsValue":"roads_coll_"},{"name":"__model__"},{"name":"names","value":"\"roads\"","usedVars":[],"jsValue":"\"roads\""}],"variable":"roads_coll","selectGeom":false},{"type":0,"ID":"prod-euibb5c1n5u","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"network","jsValue":"network_"},{"name":"value","value":"roads_coll#pl","usedVars":["roads_coll"],"jsValue":"__modules__.query.Get(__params__.model, 'pl', roads_coll_)"}],"variable":"network","selectGeom":false},{"type":8,"ID":"prod-bhgd3v3uuu","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"cells_coll","jsValue":"cells_coll_"},{"name":"__model__"},{"name":"names","value":"\"cells\"","usedVars":[],"jsValue":"\"cells\""}],"variable":"cells_coll","selectGeom":false},{"type":14,"ID":"prod-vrsyfxa5rr","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Find the nearest position on a road"}]},{"type":8,"ID":"prod-g21ho1qbn0v","enabled":true,"print":false,"meta":{"module":"analyze","name":"Nearest"},"argCount":6,"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"__model__"},{"name":"source","value":"cells_coll","usedVars":["cells_coll"],"jsValue":"cells_coll_"},{"name":"target","value":"roads_coll","usedVars":["roads_coll"],"jsValue":"roads_coll_"},{"name":"radius","value":"300","usedVars":[],"jsValue":"300"},{"name":"max_neighbors","value":"1","usedVars":[],"jsValue":"1"}],"variable":"result","selectGeom":false},{"type":14,"ID":"prod-kfow6gkziw8","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Set the attributes"}]},{"type":8,"ID":"prod-tpzkq9wneje","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['posis']","usedVars":["result"],"jsValue":"result_['posis']"},{"name":"attrib","value":"\"road_posi\"","usedVars":[],"jsValue":"\"road_posi\""},{"name":"value","value":"result['neighbors']","usedVars":["result"],"jsValue":"result_['neighbors']"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":8,"ID":"prod-fanktr9fp7d","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['posis']","usedVars":["result"],"jsValue":"result_['posis']"},{"name":"attrib","value":"\"dist_to_road\"","usedVars":[],"jsValue":"\"dist_to_road\""},{"name":"value","value":"result['distances']","usedVars":["result"],"jsValue":"result_['distances']"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":8,"ID":"prod-2nauj4otudd","enabled":false,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['posis']","usedVars":["result"],"jsValue":"result_['posis']"},{"name":"attrib","value":"\"dist\"","usedVars":[],"jsValue":"\"dist\""},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"calculate overall proximity","id":"node_gtet0fxoka","position":{"x":4760,"y":4980},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-6apzovr9sq","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"cells_coll","jsValue":"cells_coll_"},{"name":"__model__"},{"name":"names","value":"\"cells\"","usedVars":[],"jsValue":"\"cells\""}],"variable":"cells_coll","selectGeom":false},{"type":8,"ID":"prod-riu7f18xclc","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"roads_coll","jsValue":"roads_coll_"},{"name":"__model__"},{"name":"names","value":"\"roads\"","usedVars":[],"jsValue":"\"roads\""}],"variable":"roads_coll","selectGeom":false},{"type":14,"ID":"prod-4k2dl3ew0pi","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Color cells"}]},{"type":0,"ID":"prod-pm6fyhkdg2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"cells_coll#ps","usedVars":["cells_coll"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', cells_coll_)"}],"variable":"posis","selectGeom":false},{"type":4,"ID":"prod-8o9bz15hrwe","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-25ozd0y1m3y","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"road_posi","jsValue":"road_posi_"},{"name":"value","value":"posi@road_posi","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'road_posi')"}],"variable":"road_posi"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-1vqcyn1u741j","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Roads, travel at 8 m/s"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-dcv0389ce4","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"time1","jsValue":"time1_"},{"name":"value","value":"road_posi@dist_transport_node / 8","usedVars":["road_posi"],"jsValue":"__modules__.attrib.Get(__params__.model, road_posi_, 'dist_transport_node')/ 8"}],"variable":"time1","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-oau7635bdna","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"On foot, travel at 1 m/s"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-ba5ijpq2ia7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"time2","jsValue":"time2_"},{"name":"value","value":"posi@dist_to_road / 1","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'dist_to_road')/ 1"}],"variable":"time2","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-98keap2bdti","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calculate travel time in minutes"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-29wpaaclbj5","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posi@proximity","jsValue":"posi_@proximity","usedVars":["posi"]},{"name":"value","value":"(time1 + time2) / 60","usedVars":["time1","time2"],"jsValue":"(time1_ + time2_) / 60"}],"variable":null}],"variable":"posi"},{"type":8,"ID":"prod-qlb1p5unu9","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"},{"name":"attrib","value":"\"proximity\"","usedVars":[],"jsValue":"\"proximity\""},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}]},{"type":14,"ID":"prod-2sq2uwar91v","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Ectrude roads"}]},{"type":8,"ID":"prod-cxl8ving08b","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"roads_coll","usedVars":["roads_coll"],"jsValue":"roads_coll_"},{"name":"dist","value":"5","usedVars":[],"jsValue":"5"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex"}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_g8wl2pwdkxu","position":{"x":4760,"y":5100},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","jsValue":""},{"name":"value","value":"","jsValue":"","usedVars":[]}],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false},"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input~edges~0"],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0"},"hasError":false,"hasExecuted":true},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~parentNode~input~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~edges~0~source~parentNode~input~edges~0~source~edges~1"],"functions":[],"ordered":true,"last_updated":"2020-08-31T10:19:31.805Z"},"version":"0.5.70","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":-0.5,\"pos\":{\"x\":0,\"y\":0,\"z\":-0.5}},\"positions\":{\"show\":true,\"size\":0.5},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-528.0489921589432,\"y\":-861.8198112342081,\"z\":578.5733687927444},\"target\":{\"x\":-29.492497943374296,\"y\":-60.44300441461718,\"z\":62.5},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"shadowSize\":4,\"azimuth\":90,\"altitude\":45,\"distance\":10000,\"type\":\"directional\"},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":0,\"name\":\"Positions\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"background\":{\"show\":true,\"background_set\":0},\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\"},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"updated\":true,\"time\":{\"date\":\"2020-05-11\"}}}"}