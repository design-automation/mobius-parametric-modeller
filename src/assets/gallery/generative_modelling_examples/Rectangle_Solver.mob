{"name":"Rectangle Solver","author":"new_user","flowchart":{"id":"61ad8d22-da15-2df5-2e61-804da7d30117","name":"Rectangle Solver","description":"","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_b4jcoqb1ezj","position":{"x":5340,"y":4900},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":false,"show_func":false},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Create Rectangles","id":"node_medkgboh667","position":{"x":5340,"y":5020},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":4,"ID":"prod-ap89iqrxvdw","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"x_index","jsValue":"x_index_"},{"name":"list","value":"range(4)","usedVars":[],"jsValue":"range(4)"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":4,"ID":"prod-7sbluyt0qol","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"y_index","jsValue":"y_index_"},{"name":"list","value":"range(4)","usedVars":[],"jsValue":"range(4)"}],"children":[{"type":13,"ID":"prod-zl7460t074o","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1~children~1","ID":"prod-se3qphyap4","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"x","jsValue":"x_"},{"name":"value","value":"remap(x_index, [0, 3], [-400, 400])","usedVars":["x_index"],"jsValue":"remap(x_index_, [0, 3], [-400, 400])"}],"variable":"x"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1~children~1","ID":"prod-11khlnsravzl","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"y","jsValue":"y_"},{"name":"value","value":"remap(y_index, [0, 3], [-400, 400])","usedVars":["y_index"],"jsValue":"remap(y_index_, [0, 3], [-400, 400])"}],"variable":"y"},{"type":14,"ID":"prod-ot9t7toi1fc","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create a random convex polygon"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1~children~1"},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1~children~1","ID":"prod-myuuh42aiid","enabled":true,"print":false,"argCount":2,"meta":{"module":"localFunc","name":"randConvexPgon","otherInfo":{"deletedArgs":[{"name":"rand_seed","value":"rand_seed","usedVars":["rand_seed"],"linked":false,"jsValue":"rand_seed_","invalidVar":false}]}},"args":[{"name":"var_name","value":"pgon","jsValue":"pgon_"},{"name":"center","value":"[x, y]","usedVars":["x","y"],"jsValue":"[x_, y_]"}],"variable":"pgon"}],"variable":"y_index","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~1"}],"variable":"x_index"},{"type":8,"ID":"prod-nq9tmjglju8","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#pg","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pg', null)"},{"name":"method","value":"'keep_selected'","usedVars":[],"jsValue":"'keep_selected'"}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":16,"ID":"prod-24agvdo1q0v","enabled":true,"print":false,"argCount":2,"meta":{"module":"","name":"","otherInfo":{"prev_name":"randConvexPgon","num_returns":1,"collapsed":true,"deletedArgs":[{"name":"arg_2","value":"rand_seed","jsValue":"rand_seed_","invalidVar":false,"usedVars":["rand_seed"],"linked":false}]}},"args":[{"name":"func_name","value":"randConvexPgon","jsValue":"randConvexPgon_"},{"name":"arg_1","value":"center","jsValue":"center_","usedVars":["center"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-8xj7dcd6w6f","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"posis"},{"type":4,"ID":"prod-9akcvzczcme","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(10)","usedVars":[],"jsValue":"range(10)"}],"children":[{"type":13,"ID":"prod-vuxfo3kmg2e","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","ID":"prod-gbwftr4m3c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"x","jsValue":"x_"},{"name":"value","value":"center[0] + rand(-100, 100)","usedVars":["center"],"jsValue":"center_[pythonList(0, center_.length)] + rand(-100, 100)"}],"variable":"x","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","ID":"prod-qarp33aof7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"y","jsValue":"y_"},{"name":"value","value":"center[1] + rand(-100, 100)","usedVars":["center"],"jsValue":"center_[pythonList(1, center_.length)] + rand(-100, 100)"}],"variable":"y","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","ID":"prod-ebowc1plg99","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"posi","jsValue":"posi_"},{"name":"__model__"},{"name":"coords","value":"[x, y, 0]","usedVars":["x","y"],"jsValue":"[x_, y_, 0]"}],"variable":"posi","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","ID":"prod-y3p7wa2hfu","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"posis","usedVars":["posis"],"jsValue":"posis_"},{"name":"item","value":"posi","usedVars":["posi"],"jsValue":"posi_"},{"name":"method","value":"'to_end'","jsValue":"'to_end'","usedVars":[]}]}],"variable":"i","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-lfnsqtils3s","enabled":true,"print":false,"meta":{"module":"poly2d","name":"ConvexHull"},"argCount":3,"args":[{"name":"var_name","value":"hull","jsValue":"hull_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"variable":"hull","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1"},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-qn4rh8ik17","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"hull","usedVars":["hull"],"jsValue":"hull_"}]}],"variable":null}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Rectangle Solver","id":"node_rcqityrj6p","position":{"x":5340,"y":5140},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-5pi2x70zk7r","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons","jsValue":"pgons_"},{"name":"value","value":"#pg","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pg', null)"}],"variable":"pgons"},{"type":14,"ID":"prod-89v2nidka17","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"get the biggest rectangle"}]},{"type":4,"ID":"prod-x9372w6178","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"pgon","jsValue":"pgon_"},{"name":"list","value":"pgons","usedVars":["pgons"],"jsValue":"pgons_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":18,"ID":"prod-suwd71ynz9","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"calcBiggestRecInPgon","otherInfo":{}},"args":[{"name":"var_name","value":"coords","jsValue":"coords_"},{"name":"pgon","value":"pgon","usedVars":["pgon"],"jsValue":"pgon_"},{"name":"step_size","value":"10","jsValue":"10","usedVars":[]}],"variable":"coords","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3"},{"type":14,"ID":"prod-tzoadqrx66","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"creata polygon"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3"},{"type":8,"ID":"prod-6yhszjaojqi","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"coords","value":"coords","usedVars":["coords"],"jsValue":"coords_"}],"variable":"posis","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3"},{"type":8,"ID":"prod-yb71c767pki","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"pgon","jsValue":"pgon_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"variable":"pgon","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3"},{"type":8,"ID":"prod-wkhcvnsbc7o","enabled":true,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"pgon","usedVars":["pgon"],"jsValue":"pgon_"},{"name":"vectors","value":"[0, 0, 1]","usedVars":[],"jsValue":"[0, 0, 1]"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3"},{"type":8,"ID":"prod-wiv3vid9l7","enabled":true,"print":false,"meta":{"module":"visualize","name":"Color"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"pgon","usedVars":["pgon"],"jsValue":"pgon_"},{"name":"color","value":"[0.9, 0.9, 1]","usedVars":[],"jsValue":"[0.9, 0.9, 1]"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~3"}],"variable":"pgon"}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":16,"ID":"prod-c0uolznrpwn","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"calcBiggestRecInPgon","num_returns":1,"collapsed":false}},"args":[{"name":"func_name","value":"calcBiggestRecInPgon","jsValue":"calcBiggestRecInPgon_"},{"name":"arg_1","value":"pgon","jsValue":"pgon_","usedVars":["pgon"]},{"name":"arg_2","value":"step_size","jsValue":"step_size_","usedVars":["step_size"]}],"children":[{"type":13,"ID":"prod-vj50f4stumi","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-ae7g1h2woz","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_area","jsValue":"max_area_"},{"name":"value","value":"-Infinity","usedVars":[],"jsValue":"-Infinity"}],"variable":"max_area","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-guzff3pjed","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_rect","jsValue":"max_rect_"},{"name":"value","value":"null","usedVars":[],"jsValue":"null"}],"variable":"max_rect","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-kvmllx2k4i","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"loop through all edges, find the biggest rectangle for all edges"}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-9dmjudvui7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"pgon#_e","usedVars":["pgon"],"jsValue":"__modules__.query.Get(__params__.model, '_e', pgon_)"}],"variable":"edges","selectGeom":false},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-oogju9nmdil","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"edges","usedVars":["edges"],"jsValue":"edges_"}],"children":[{"type":13,"ID":"prod-da1co1hk6ns","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":18,"ID":"prod-ygl3drjvevn","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"calcBiggestRectOnEdge","otherInfo":{}},"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"edge","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"step_size","value":"step_size","jsValue":"step_size_","usedVars":["step_size"]}],"variable":"result","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5","ID":"prod-1pbn6338bs9i","enabled":false,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"coords","value":"result[\"rect\"]","usedVars":["result"],"jsValue":"result_[\"rect\"]"}],"variable":"posis","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5","ID":"prod-52okszixm0u","enabled":false,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pline","jsValue":"pline_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"},{"name":"close","value":"'close'","jsValue":"'close'","usedVars":[]}],"variable":"pline","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5","ID":"prod-pun3vc8dhhd","enabled":false,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"pline","usedVars":["pline"],"jsValue":"pline_"},{"name":"vectors","value":"[0, 0, 0.2]","usedVars":[],"jsValue":"[0, 0, 0.2]"}],"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5","ID":"prod-gqrrawb0psn","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"result[\"area\"] > max_area","usedVars":["result","max_area"],"jsValue":"result_[\"area\"] > max_area_"}],"children":[{"type":13,"ID":"prod-nzlc6kxjjda","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~5","ID":"prod-h1frk3axtbv","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_area","jsValue":"max_area_"},{"name":"value","value":"result[\"area\"]","usedVars":["result"],"jsValue":"result_[\"area\"]"}],"variable":"max_area","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~5","ID":"prod-44u2pvaci1o","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_rect","jsValue":"max_rect_"},{"name":"value","value":"result[\"rect\"]","usedVars":["result"],"jsValue":"result_[\"rect\"]"}],"variable":"max_rect","selectGeom":false}],"selectGeom":false}],"variable":"edge","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-j07tewmhcw","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"max_rect","usedVars":["max_rect"],"jsValue":"max_rect_"}],"selectGeom":false}],"variable":null,"selectGeom":false},{"type":16,"ID":"prod-6aaozs1n96p","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"calcBiggestRectOnEdge","num_returns":1,"collapsed":false,"deletedArgs":[]}},"args":[{"name":"func_name","value":"calcBiggestRectOnEdge","jsValue":"calcBiggestRectOnEdge_"},{"name":"arg_1","value":"edge","jsValue":"edge_","usedVars":["edge"]},{"name":"arg_2","value":"step_size","jsValue":"step_size_","usedVars":["step_size"]}],"children":[{"type":13,"ID":"prod-n2tlj1qb5k","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-9vji8yukpyi","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_rect","jsValue":"max_rect_"},{"name":"value","value":"null","usedVars":[],"jsValue":"null"}],"variable":"max_rect","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-ik3eg631v9c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_area","jsValue":"max_area_"},{"name":"value","value":"-Infinity","usedVars":[],"jsValue":"-Infinity"}],"variable":"max_area","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-0mj4hhos3y0p","enabled":true,"print":false,"meta":{"module":"calc","name":"Length"},"argCount":3,"args":[{"name":"var_name","value":"length","jsValue":"length_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"}],"variable":"length","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-mm26kdt3t7l","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"num_rects","jsValue":"num_rects_"},{"name":"value","value":"ceil(length / step_size)","usedVars":["step_size"],"jsValue":"ceil(length_ / step_size_)"}],"variable":"num_rects","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-bexp9oieojm","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"loop through values of t on one edge, find biggest rectangle"}],"selectGeom":false},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-3u5dcngwhef","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(num_rects + 1)","usedVars":["num_rects"],"jsValue":"range(num_rects_ + 1)"}],"children":[{"type":13,"ID":"prod-xhw6ppy236g","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-efnk5sawqj","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"t","jsValue":"t_"},{"name":"value","value":"i / num_rects","usedVars":["num_rects","i"],"jsValue":"i_ / num_rects_"}],"variable":"t"},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-ipmrb977cf","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"calcEdgeRect"},"args":[{"name":"var_name","value":"rect","jsValue":"rect_"},{"name":"edge","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"t","value":"t","usedVars":["t"],"jsValue":"t_"}],"variable":"rect","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-vthli14lcdq","enabled":false,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"__model__"},{"name":"coords","value":"rect","usedVars":["rect"],"jsValue":"rect_"}],"variable":"posis","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-ktils310sd","enabled":false,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pline","jsValue":"pline_"},{"name":"__model__"},{"name":"entities","value":"posis","usedVars":["posis"],"jsValue":"posis_"},{"name":"close","value":"'close'","jsValue":"'close'","usedVars":[]}],"variable":"pline","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-3vc6ylmitvi","enabled":false,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"pline","usedVars":["pline"],"jsValue":"pline_"},{"name":"vectors","value":"[0, 0, 0.2]","usedVars":[],"jsValue":"[0, 0, 0.2]"}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-5o5q5mhmb8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"area","jsValue":"area_"},{"name":"value","value":"distance(rect[0], rect[1]) * distance(rect[1], rect[2])","usedVars":["rect"],"jsValue":"distance(rect_[pythonList(0, rect_.length)], rect_[pythonList(1, rect_.length)]) * distance(rect_[pythonList(1, rect_.length)], rect_[pythonList(2, rect_.length)])"}],"variable":"area","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6","ID":"prod-2jlclh2z9e6","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"area > max_area","usedVars":["area","max_area"],"jsValue":"area_ > max_area_"}],"children":[{"type":13,"ID":"prod-jkdrk61tkq","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6~children~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6~children~7","ID":"prod-j23r4kjjths","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_area","jsValue":"max_area_"},{"name":"value","value":"area","usedVars":["area"],"jsValue":"area_"}],"variable":"max_area","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~6~children~7","ID":"prod-3pigdksz4w7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_rect","jsValue":"max_rect_"},{"name":"value","value":"rect","usedVars":["rect"],"jsValue":"rect_"}],"variable":"max_rect","selectGeom":false}],"selectGeom":false}],"variable":"i","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-8hzjwuc0yqa","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"{\"rect\": max_rect,\"area\": max_area}","usedVars":["max_rect","max_area"],"jsValue":"{\"rect\": max_rect_,\"area\": max_area_}"}],"selectGeom":false}],"variable":null,"selectGeom":false},{"type":16,"ID":"prod-ugy9hvnkis","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"calcEdgeRect","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"calcEdgeRect","jsValue":"calcEdgeRect_"},{"name":"arg_1","value":"edge","jsValue":"edge_","usedVars":["edge"]},{"name":"arg_2","value":"t","jsValue":"t_","usedVars":["t"]}],"children":[{"type":13,"ID":"prod-187482i8xwb","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-4tr66qokclf","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"t","jsValue":"t_"},{"name":"value","value":"remap(t, [0, 1], [0.00001, 0.99999])","usedVars":["t"],"jsValue":"remap(t_, [0, 1], [0.00001, 0.99999])"}],"variable":"t","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-8le3gqu39ro","enabled":true,"print":false,"meta":{"module":"calc","name":"Ray"},"argCount":3,"args":[{"name":"var_name","value":"edge_ray","jsValue":"edge_ray_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"}],"variable":"edge_ray","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-j7y7d0w8b9j","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edge_length","jsValue":"edge_length_"},{"name":"value","value":"vecLen(edge_ray[1])","usedVars":["edge_ray"],"jsValue":"vecLen(edge_ray_[pythonList(1, edge_ray_.length)])"}],"variable":"edge_length","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-nrngr3vk7dd","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"shoot_up_start","jsValue":"shoot_up_start_"},{"name":"value","value":"vecAdd(edge_ray[0], vecMult(edge_ray[1], t))","usedVars":["t","edge_ray"],"jsValue":"vecAdd(edge_ray_[pythonList(0, edge_ray_.length)], vecMult(edge_ray_[pythonList(1, edge_ray_.length)], t_))"}],"variable":"shoot_up_start","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-33o52pvzv5h","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"shoot up"}],"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-ixyhvs5w8fa","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"createPerpRay"},"args":[{"name":"var_name","value":"up_ray","jsValue":"up_ray_"},{"name":"start","value":"shoot_up_start","usedVars":["shoot_up_start"],"jsValue":"shoot_up_start_"},{"name":"vec","value":"edge_ray[1]","usedVars":["edge_ray"],"jsValue":"edge_ray_[pythonList(1, edge_ray_.length)]"}],"variable":"up_ray","selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-m6of27e119","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"shootRay","otherInfo":{"deletedArgs":[{"name":"arg_3","value":"","jsValue":"","usedVars":[],"linked":false,"invalidVar":false}]}},"args":[{"name":"var_name","value":"shoot_up","jsValue":"shoot_up_"},{"name":"edge","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"ray","value":"up_ray","usedVars":["up_ray"],"jsValue":"up_ray_"}],"variable":"shoot_up","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-gd0po9aw2f6","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"shoot left"}],"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-7q54qrgg5zj","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"createPerpRay"},"args":[{"name":"var_name","value":"left_ray","jsValue":"left_ray_"},{"name":"start","value":"shoot_up[\"isect\"]","usedVars":["shoot_up"],"jsValue":"shoot_up_[\"isect\"]"},{"name":"vec","value":"up_ray[1]","usedVars":["up_ray"],"jsValue":"up_ray_[pythonList(1, up_ray_.length)]"}],"variable":"left_ray","selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-ehz4m6p4a9u","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"shootRay","otherInfo":{"deletedArgs":[{"name":"arg_3","value":"","jsValue":"","usedVars":[],"linked":false,"invalidVar":false}]}},"args":[{"name":"var_name","value":"shoot_left","jsValue":"shoot_left_"},{"name":"edge","value":"shoot_up[\"edge\"]","usedVars":["shoot_up"],"jsValue":"shoot_up_[\"edge\"]"},{"name":"ray","value":"left_ray","usedVars":["left_ray"],"jsValue":"left_ray_"}],"variable":"shoot_left","selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-lv4zxw4ljsc","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"limitRay"},"args":[{"name":"__none__","value":"ray","jsValue":"ray_"},{"name":"ray","value":"left_ray","usedVars":["left_ray"],"jsValue":"left_ray_"},{"name":"limit","value":"edge_length * t","usedVars":["t","edge_length"],"jsValue":"edge_length_ * t_"}],"variable":"ray","selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-5cdul1wiuw","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"shoot right"}],"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-wcau5squh4e","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"createPerpRay"},"args":[{"name":"var_name","value":"right_ray","jsValue":"right_ray_"},{"name":"start","value":"shoot_up[\"isect\"]","usedVars":["shoot_up"],"jsValue":"shoot_up_[\"isect\"]"},{"name":"vec","value":"vecRev(up_ray[1])","usedVars":["up_ray"],"jsValue":"vecRev(up_ray_[pythonList(1, up_ray_.length)])"}],"variable":"right_ray","selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-ymilpldpbq","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"shootRay","otherInfo":{"deletedArgs":[{"name":"arg_3","value":"","jsValue":"","usedVars":[],"linked":false,"invalidVar":false}]}},"args":[{"name":"var_name","value":"shoot_right","jsValue":"shoot_right_"},{"name":"edge","value":"shoot_up[\"edge\"]","usedVars":["shoot_up"],"jsValue":"shoot_up_[\"edge\"]"},{"name":"ray","value":"right_ray","usedVars":["right_ray"],"jsValue":"right_ray_"}],"variable":"shoot_right","selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-oo2yvs1xxbh","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"limitRay"},"args":[{"name":"__none__"},{"name":"ray","value":"right_ray","usedVars":["right_ray"],"jsValue":"right_ray_"},{"name":"limit","value":"edge_length * (1 - t)","usedVars":["t","edge_length"],"jsValue":"edge_length_ * (1 - t_)"}],"variable":null,"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-yan8ne6z8jo","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"return coords"}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-2x6bztnziip","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"coord0","jsValue":"coord0_"},{"name":"value","value":"vecAdd(shoot_up_start, left_ray[1])","usedVars":["shoot_up_start","left_ray"],"jsValue":"vecAdd(shoot_up_start_, left_ray_[pythonList(1, left_ray_.length)])"}],"variable":"coord0","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-s3rrk6hhdxg","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"coord1","jsValue":"coord1_"},{"name":"value","value":"vecAdd(shoot_up_start, right_ray[1])","usedVars":["shoot_up_start","right_ray"],"jsValue":"vecAdd(shoot_up_start_, right_ray_[pythonList(1, right_ray_.length)])"}],"variable":"coord1","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-naom7y0k37c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"coord2","jsValue":"coord2_"},{"name":"value","value":"vecAdd(coord1, up_ray[1])","usedVars":["up_ray","coord1"],"jsValue":"vecAdd(coord1_, up_ray_[pythonList(1, up_ray_.length)])"}],"variable":"coord2","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-g9xb2sch68l","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"coord3","jsValue":"coord3_"},{"name":"value","value":"vecAdd(coord0, up_ray[1])","usedVars":["up_ray","coord0"],"jsValue":"vecAdd(coord0_, up_ray_[pythonList(1, up_ray_.length)])"}],"variable":"coord3","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-7a39ucb13ng","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"[coord0, coord1, coord2, coord3]","usedVars":["coord0","coord1","coord2","coord3"],"jsValue":"[coord0_, coord1_, coord2_, coord3_]"}],"selectGeom":false}],"variable":null,"selectGeom":false},{"type":16,"ID":"prod-x8yg26o6g2","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"shootRay","num_returns":1,"collapsed":true,"deletedArgs":[{"name":"arg_3","value":"limit","jsValue":"limit_","invalidVar":false,"usedVars":["limit"],"linked":false}]}},"args":[{"name":"func_name","value":"shootRay","jsValue":"shootRay_"},{"name":"arg_1","value":"edge","jsValue":"edge_","usedVars":["edge"]},{"name":"arg_2","value":"ray","jsValue":"ray_","usedVars":["ray"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-mtv6oq5i13i","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray[1]","jsValue":"ray_[pythonList(1, ray_.length)]","usedVars":["ray"]},{"name":"value","value":"vecMult(ray[1], 1000)","usedVars":["ray"],"jsValue":"vecMult(ray_[pythonList(1, ray_.length)], 1000)"}],"variable":null},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-6cc6137k6kg","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgon","jsValue":"pgon_"},{"name":"value","value":"edge#pg","usedVars":["edge"],"jsValue":"__modules__.query.Get(__params__.model, 'pg', edge_)"}],"variable":"pgon"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-xjau4aortg","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"isect","jsValue":"isect_"},{"name":"value","value":"null","usedVars":[],"jsValue":"null"}],"variable":"isect"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-msvjqz2p1v","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"hit_edge","jsValue":"hit_edge_"},{"name":"value","value":"null","usedVars":[],"jsValue":"null"}],"variable":"hit_edge"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-cktqk2j9qjj","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"test all edges (except input edge) to find intersection coords"}]},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-w7ihuk5nl1","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"pgon_edge","jsValue":"pgon_edge_"},{"name":"list","value":"pgon#_e","usedVars":["pgon"],"jsValue":"__modules__.query.Get(__params__.model, '_e', pgon_)"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-ghxnjfgtb3u","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"pgon_edge == edge","usedVars":["pgon_edge","edge"],"jsValue":"pgon_edge_ == edge_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":7,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6~children~1","ID":"prod-9wz5fcvzw4","enabled":true,"print":false,"argCount":0,"args":[]}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-r9vpy5cj06","enabled":true,"print":false,"meta":{"module":"calc","name":"Ray"},"argCount":3,"args":[{"name":"var_name","value":"edge_ray","jsValue":"edge_ray_"},{"name":"__model__"},{"name":"entities","value":"pgon_edge","usedVars":["pgon_edge"],"jsValue":"pgon_edge_"}],"variable":"edge_ray"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-38rbpkvohbz","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"current_isect","jsValue":"current_isect_"},{"name":"value","value":"intersect(ray, edge_ray, 0)","usedVars":["edge_ray","ray"],"jsValue":"intersect(ray_, edge_ray_, 0)"}],"variable":"current_isect"},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-hq5gc3msqpc","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"current_isect != null","usedVars":["current_isect"],"jsValue":"current_isect_ != null"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6~children~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6~children~4","ID":"prod-9r5hdjz6xbc","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"isect","jsValue":"isect_"},{"name":"value","value":"current_isect","usedVars":["current_isect"],"jsValue":"current_isect_"}],"variable":"isect","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6~children~4","ID":"prod-z6826cb9y5n","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"hit_edge","jsValue":"hit_edge_"},{"name":"value","usedVars":["pgon_edge"],"value":"pgon_edge","jsValue":"pgon_edge_"}],"variable":"hit_edge","selectGeom":false},{"type":6,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6~children~4","ID":"prod-pynb08rayln","enabled":true,"print":false,"argCount":0,"args":[]}]}],"variable":"pgon_edge"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-d1xhranyrz","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"if no intersection, then set ray start as intersection"}]},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-c1acn57qn05","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"isect == null","usedVars":["isect"],"jsValue":"isect_ == null"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~8","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~8","ID":"prod-fmt4ub1332w","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"min_dist","jsValue":"min_dist_"},{"name":"value","value":"0","usedVars":[],"jsValue":"0"}],"variable":"min_dist"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~8","ID":"prod-y6s8zrwayy","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"isect","jsValue":"isect_"},{"name":"value","value":"ray[0]","usedVars":["ray"],"jsValue":"ray_[pythonList(0, ray_.length)]"}],"variable":"isect"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~8","ID":"prod-dfuelhbte46","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"hit_edge","jsValue":"hit_edge_"},{"name":"value","usedVars":["edge"],"value":"edge","jsValue":"edge_"}],"variable":"hit_edge","selectGeom":false}]},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-jr9pyru3zj","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"set the length of the vector of the input ray"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-p5vqawb2rmd","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray[1]","jsValue":"ray_[pythonList(1, ray_.length)]","usedVars":["ray"]},{"name":"value","value":"vecFromTo(ray[0], isect)","usedVars":["isect","ray"],"jsValue":"vecFromTo(ray_[pythonList(0, ray_.length)], isect_)"}],"variable":null},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-ih1xszjypih","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"return a dictionary containing the intersection coords and the intersection edge"}]},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~4","ID":"prod-oxx6u1dl3t","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"{\"isect\": isect,\"edge\": hit_edge}","usedVars":["isect","hit_edge"],"jsValue":"{\"isect\": isect_,\"edge\": hit_edge_}"}],"selectGeom":false}],"variable":null},{"type":16,"ID":"prod-mhz2v1luvzr","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"limitRay","num_returns":0,"collapsed":true,"deletedArgs":[{"name":"arg_3","value":"","jsValue":""}]}},"args":[{"name":"func_name","value":"limitRay","jsValue":"limitRay_"},{"name":"arg_1","value":"ray","jsValue":"ray_","usedVars":["ray"]},{"name":"arg_2","value":"limit","jsValue":"limit_","usedVars":["limit"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~5","ID":"prod-lw8j95ut0zq","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"vecLen(ray[1]) > limit","usedVars":["ray","limit"],"jsValue":"vecLen(ray_[pythonList(1, ray_.length)]) > limit_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~5~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~5~children~1","ID":"prod-111t5r716y7h","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray[1]","jsValue":"ray_[pythonList(1, ray_.length)]","usedVars":["ray"]},{"name":"value","value":"vecSetLen(ray[1], limit)","usedVars":["ray","limit"],"jsValue":"vecSetLen(ray_[pythonList(1, ray_.length)], limit_)"}],"variable":null}]}],"variable":null},{"type":16,"ID":"prod-kv542kqg19","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"createPerpRay","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"createPerpRay","jsValue":"createPerpRay_"},{"name":"arg_1","value":"start","jsValue":"start_","usedVars":["start"]},{"name":"arg_2","value":"vec","jsValue":"vec_","usedVars":["vec"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~6","ID":"prod-2782h69ooxz","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"perp_vec","jsValue":"perp_vec_"},{"name":"value","value":"[-vec[1], vec[0], 0]","usedVars":["vec"],"jsValue":"[-vec_[pythonList(1, vec_.length)], vec_[pythonList(0, vec_.length)], 0]"}],"variable":"perp_vec","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~localFunc~6","ID":"prod-n7lbqhmgaf","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"rayMake(start, perp_vec)","usedVars":["perp_vec","start"],"jsValue":"rayMake(start_, perp_vec_)"}]}],"variable":null}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasError":false,"hasExecuted":true,"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_rleczzloi0q","position":{"x":5340,"y":5260},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","jsValue":""},{"name":"value","value":"","jsValue":"","usedVars":[]}],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"}}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0"},"hasError":false,"hasExecuted":true},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"functions":[],"ordered":true,"last_updated":"2020-08-31T10:45:20.826Z"},"version":"0.5.70","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":1440,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":true,\"size\":1.3},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":459.8873349488725,\"y\":-987.749913587431,\"z\":681.4989753943387},\"target\":{\"x\":-37.211879120981855,\"y\":-51.17124391844585,\"z\":-28.963321271945176},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#ffffff\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":3072},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":0,\"name\":\"Positions\"},\"tab\":0,\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\"},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"updated\":true,\"time\":{\"date\":\"2020-05-11\"}}}"}