{"name":"Centrality_Analysis","author":"new_user","flowchart":{"id":"b1bf98af-c352-871e-461f-fb4c7cbae77b","name":"Centrality Analysis","description":"","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_45lppxfwgth","position":{"x":4600,"y":4560},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":false,"show_func":false},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"roads","id":"node_kk1s7dumxq","position":{"x":4600,"y":4680},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-tf9qulbhcha","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_size","jsValue":"grid_size_"},{"name":"value","value":"2000","usedVars":[],"jsValue":"2000"}],"variable":"grid_size"},{"type":0,"ID":"prod-22pdxsa8hrl","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"block_size","jsValue":"block_size_"},{"name":"value","value":"150","usedVars":[],"jsValue":"150"}],"variable":"block_size"},{"type":0,"ID":"prod-fuvzfqulizh","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"num_diagonals","jsValue":"num_diagonals_"},{"name":"value","value":"6","usedVars":[],"jsValue":"6"}],"variable":"num_diagonals","selectGeom":false},{"type":0,"ID":"prod-p3n9ueh0e2r","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"num_blocks","jsValue":"num_blocks_"},{"name":"value","value":"round(grid_size / block_size)","usedVars":["grid_size","block_size"],"jsValue":"round(__debug__, grid_size_ / block_size_)"}],"variable":"num_blocks","selectGeom":false},{"type":0,"ID":"prod-w7fnv301d1","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"0.123","usedVars":[],"jsValue":"0.123"}],"variable":"rand_seed","selectGeom":false},{"type":0,"ID":"prod-xbuaubbaij","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand(0, 1)","usedVars":[],"jsValue":"rand(__debug__, 0, 1)"}],"variable":"rand_seed","selectGeom":false},{"type":14,"ID":"prod-sliqhsoo5ao","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Create a grid of streets"}]},{"type":8,"ID":"prod-n8v2ol2ksvr","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"rows","jsValue":"rows_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"[grid_size + block_size, grid_size]","usedVars":["grid_size","block_size"],"jsValue":"[grid_size_ + block_size_, grid_size_]"},{"name":"num_positions","value":"[8, num_blocks]","usedVars":["num_blocks"],"jsValue":"[8, num_blocks_]"},{"name":"method","value":"'rows'","usedVars":[],"jsValue":"'rows'"}],"variable":"rows"},{"type":8,"ID":"prod-2cxkt5bfokn","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"rows_plines","jsValue":"rows_plines_"},{"name":"__model__"},{"name":"entities","value":"rows","usedVars":["rows"],"jsValue":"rows_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"rows_plines"},{"type":8,"ID":"prod-3t362vo4n6i","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"cols","jsValue":"cols_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"[grid_size, grid_size + block_size]","usedVars":["grid_size","block_size"],"jsValue":"[grid_size_, grid_size_ + block_size_]"},{"name":"num_positions","value":"[num_blocks, 8]","usedVars":["num_blocks"],"jsValue":"[num_blocks_, 8]"},{"name":"method","value":"'columns'","usedVars":[],"jsValue":"'columns'"}],"variable":"cols","selectGeom":false},{"type":8,"ID":"prod-uk5gor1nl3","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"cols_plines","jsValue":"cols_plines_"},{"name":"__model__"},{"name":"entities","value":"cols","usedVars":["cols"],"jsValue":"cols_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"cols_plines","selectGeom":false},{"type":0,"ID":"prod-h08bjpcnprn","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"#_e","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, '_e', null)"}],"variable":"edges"},{"type":8,"ID":"prod-1cdfsfa84i4","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"grid","jsValue":"grid_"},{"name":"__model__"},{"name":"entities","value":"randPick(edges, round(len(edges) * 0.75), rand_seed)","usedVars":["rand_seed","edges"],"jsValue":"randPick(__debug__, edges_, round(__debug__, len(__debug__, edges_) * 0.75), rand_seed_)"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"grid"},{"type":8,"ID":"prod-01lzku6v80im","enabled":true,"print":false,"meta":{"module":"edit","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[rows_plines, cols_plines]","usedVars":["rows_plines","cols_plines"],"jsValue":"[rows_plines_, cols_plines_]"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}]},{"type":14,"ID":"prod-662s5awv0sc","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Create diagonal streets"}]},{"type":8,"ID":"prod-ngsalthybe","enabled":true,"print":false,"meta":{"module":"pattern","name":"Rectangle"},"argCount":4,"args":[{"name":"var_name","value":"rec_posis","jsValue":"rec_posis_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"grid_size + block_size + block_size","usedVars":["grid_size","block_size"],"jsValue":"grid_size_ + block_size_ + block_size_"}],"variable":"rec_posis"},{"type":8,"ID":"prod-eobqash446t","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"rec_pline","jsValue":"rec_pline_"},{"name":"__model__"},{"name":"entities","value":"rec_posis","usedVars":["rec_posis"],"jsValue":"rec_posis_"},{"name":"close","value":"'close'","jsValue":"'close'","usedVars":[]}],"variable":"rec_pline"},{"type":4,"ID":"prod-xjye99x6zga","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(num_diagonals)","usedVars":["num_diagonals"],"jsValue":"range(__debug__, num_diagonals_)"}],"children":[{"type":13,"ID":"prod-x4sts2j8pua","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","ID":"prod-ggfajxpm2xq","enabled":true,"print":false,"meta":{"module":"calc","name":"Eval"},"argCount":4,"args":[{"name":"var_name","value":"a","jsValue":"a_"},{"name":"__model__"},{"name":"entities","value":"rec_pline","usedVars":["rec_pline"],"jsValue":"rec_pline_"},{"name":"t_param","value":"rand(0, 1, i + rand_seed)","usedVars":["rand_seed","i"],"jsValue":"rand(__debug__, 0, 1, i_ + rand_seed_)"}],"variable":"a"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","ID":"prod-310kv2cyub3","enabled":true,"print":false,"meta":{"module":"calc","name":"Eval"},"argCount":4,"args":[{"name":"var_name","value":"b","jsValue":"b_"},{"name":"__model__"},{"name":"entities","value":"rec_pline","usedVars":["rec_pline"],"jsValue":"rec_pline_"},{"name":"t_param","value":"rand(0, 1, i + rand_seed + 0.1)","usedVars":["rand_seed","i"],"jsValue":"rand(__debug__, 0, 1, i_ + rand_seed_ + 0.1)"}],"variable":"b","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","ID":"prod-b8e1jmzggml","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"diag_posis","jsValue":"diag_posis_"},{"name":"__model__"},{"name":"coords","value":"[a, b]","usedVars":["a","b"],"jsValue":"[a_, b_]"}],"variable":"diag_posis"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","ID":"prod-wbiuizp2yk","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"diag_pline","jsValue":"diag_pline_"},{"name":"__model__"},{"name":"entities","value":"diag_posis","usedVars":["diag_posis"],"jsValue":"diag_posis_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"diag_pline"}],"variable":"i","selectGeom":false},{"type":8,"ID":"prod-30t65mqix87","enabled":true,"print":false,"meta":{"module":"edit","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"rec_pline","usedVars":["rec_pline"],"jsValue":"rec_pline_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}]},{"type":14,"ID":"prod-tiivn281nkd","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Stitch the polylines"}]},{"type":8,"ID":"prod-i21pqjg3wx","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Stitch"},"argCount":3,"args":[{"name":"var_name","value":"new_plines","jsValue":"new_plines_"},{"name":"__model__"},{"name":"entities","value":"#pl","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pl', null)"}],"variable":"new_plines"},{"type":14,"ID":"prod-c4fxmbyv7","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Stitching generates new polylines so del the old ones"}]},{"type":8,"ID":"prod-fzw74rmg16","enabled":true,"print":false,"meta":{"module":"edit","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"new_plines","usedVars":["new_plines"],"jsValue":"new_plines_"},{"name":"method","value":"'keep_selected'","usedVars":[],"jsValue":"'keep_selected'"}]},{"type":14,"ID":"prod-fjot6h6zq36","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calc weights for all edges, make weight equal to edge length"}]},{"type":0,"ID":"prod-6wjkgl2y7v8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"#_e","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, '_e', null)"}],"variable":"edges"},{"type":8,"ID":"prod-zxrknjb7y2k","enabled":true,"print":false,"meta":{"module":"calc","name":"Length"},"argCount":3,"args":[{"name":"var_name","value":"weights","jsValue":"weights_"},{"name":"__model__"},{"name":"entities","value":"edges","usedVars":["edges"],"jsValue":"edges_"}],"variable":"weights"},{"type":14,"ID":"prod-e4vmajxd8yl","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Make sure that no weights are below 1, otherwise it will cause issues for harmonic centrality"}]},{"type":4,"ID":"prod-inb3dmhaccj","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(len(weights))","usedVars":["weights"],"jsValue":"range(__debug__, len(__debug__, weights_))"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~28","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~28","ID":"prod-k2s0v1tflz","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"weights[i] < 1","usedVars":["weights","i"],"jsValue":"weights_[pythonList(i_, weights_.length)] < 1"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~28~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~28~children~1","ID":"prod-fa7zcs9dpkf","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"weights[i]","jsValue":"weights_[pythonList(i_, weights_.length)]","usedVars":["weights","i"]},{"name":"value","value":"1","usedVars":[],"jsValue":"1"}],"variable":null}]}],"variable":"i"},{"type":14,"ID":"prod-46m91neupeb","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Set the weights as attribtes on the edges"}]},{"type":8,"ID":"prod-t6burpvnbph","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"edges","usedVars":["edges"],"jsValue":"edges_"},{"name":"attrib","value":"\"weight\"","usedVars":[],"jsValue":"\"weight\""},{"name":"value","value":"weights","usedVars":["weights"],"jsValue":"weights_"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"check roads connections","id":"node_8tbdrnu3yws","position":{"x":4420,"y":4680},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-npnswlnp3pr","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"#ps","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'ps', null)"}],"variable":"posis"},{"type":4,"ID":"prod-25c33ke43at","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"children":[{"type":13,"ID":"prod-72ycne6qqv9","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2","ID":"prod-fvfircu65md","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"posi#_e","usedVars":["posi"],"jsValue":"__modules__.query.Get(__params__.model, '_e', posi_)"}],"variable":"edges","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2","ID":"prod-6ojigv0sq3s","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"len(edges) > 2","usedVars":["edges"],"jsValue":"len(__debug__, edges_) > 2"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2","ID":"prod-hw0sb3ys40u","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xyz","jsValue":"xyz_"},{"name":"value","value":"posi@xyz","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'xyz')"}],"variable":"xyz","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2","ID":"prod-mwjyz3c2r8d","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p1","jsValue":"p1_"},{"name":"__model__"},{"name":"coords","value":"[xyz[0], xyz[1], xyz[2] + 30]","usedVars":["xyz"],"jsValue":"[xyz_[pythonList(0, xyz_.length)], xyz_[pythonList(1, xyz_.length)], xyz_[pythonList(2, xyz_.length)] + 30]"}],"variable":"p1","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2","ID":"prod-u0xrfzh3xcn","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p2","jsValue":"p2_"},{"name":"__model__"},{"name":"coords","value":"[xyz[0], xyz[1], xyz[2] + 50]","usedVars":["xyz"],"jsValue":"[xyz_[pythonList(0, xyz_.length)], xyz_[pythonList(1, xyz_.length)], xyz_[pythonList(2, xyz_.length)] + 50]"}],"variable":"p2","selectGeom":false},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2","ID":"prod-6vo3goucm9f","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"edges","usedVars":["edges"],"jsValue":"edges_"}],"children":[{"type":13,"ID":"prod-69uu9jrhm94","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","ID":"prod-qqj1eprxgt","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edge_posis","jsValue":"edge_posis_"},{"name":"value","value":"edge#ps","usedVars":["edge"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', edge_)"}],"variable":"edge_posis","selectGeom":false},{"type":8,"ID":"prod-24y2nz801dr","enabled":true,"print":false,"meta":{"module":"calc","name":"Vector"},"argCount":3,"args":[{"name":"var_name","value":"edge_vec","jsValue":"edge_vec_"},{"name":"__model__"},{"name":"entities","usedVars":["edge"],"value":"edge","jsValue":"edge_"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","variable":"edge_vec"},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","ID":"prod-l3af1f5zpy","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"vecLen(edge_vec) == 0","usedVars":["edge_vec"],"jsValue":"vecLen(__debug__, edge_vec_) == 0"}],"children":[{"type":13,"ID":"prod-k2ab71aobs","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":7,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~3","ID":"prod-seadd3wkefg","enabled":true,"print":false,"argCount":0,"args":[],"selectGeom":false}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","ID":"prod-pwl0k8vonb8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"c3","jsValue":"c3_"},{"name":"value","value":"null","usedVars":[],"jsValue":"null"}],"variable":"c3","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","ID":"prod-1vnv5p2md4c","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"edge_posis[0] == posi","usedVars":["edge_posis","posi"],"jsValue":"edge_posis_[pythonList(0, edge_posis_.length)] == posi_"}],"children":[{"type":13,"ID":"prod-4v15nt9beeb","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~5","ID":"prod-cpaoztb7fqi","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"c3","jsValue":"c3_"},{"name":"value","value":"vecAdd(xyz, vecSetLen(edge_vec, 3))","usedVars":["edge_vec","xyz"],"jsValue":"vecAdd(__debug__, xyz_, vecSetLen(__debug__, edge_vec_, 3))"}],"variable":"c3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~5","ID":"prod-sschsrdwbo","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p3","jsValue":"p3_"},{"name":"__model__"},{"name":"coords","value":"c3","usedVars":["c3"],"jsValue":"c3_"}],"variable":"p3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~5","ID":"prod-isw1uezg7t","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pl","jsValue":"pl_"},{"name":"__model__"},{"name":"entities","value":"[p1, p3]","usedVars":["p3","p1"],"jsValue":"[p1_, p3_]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"pl","selectGeom":false}],"selectGeom":false},{"type":3,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4","ID":"prod-rl5r9ubs5n","enabled":true,"print":false,"argCount":0,"args":[],"children":[{"type":13,"ID":"prod-iappvbnx4pl","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~6","ID":"prod-jzirjn9c4e9","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"c3","jsValue":"c3_"},{"name":"value","value":"vecSub(xyz, vecSetLen(edge_vec, 3))","usedVars":["edge_vec","xyz"],"jsValue":"vecSub(__debug__, xyz_, vecSetLen(__debug__, edge_vec_, 3))"}],"variable":"c3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~6","ID":"prod-bo2mwnhpdg7","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"p3","jsValue":"p3_"},{"name":"__model__"},{"name":"coords","value":"c3","usedVars":["c3"],"jsValue":"c3_"}],"variable":"p3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~2~children~2~children~4~children~6","ID":"prod-4q8snd3lznr","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pl","jsValue":"pl_"},{"name":"__model__"},{"name":"entities","value":"[p2, p3]","usedVars":["p3","p2"],"jsValue":"[p2_, p3_]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"pl","selectGeom":false}],"selectGeom":false}],"variable":"edge","selectGeom":false}]}],"variable":"posi","selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasExecuted":true,"hasError":false,"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"model":4}},"selected":false},{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"calculate\ncentrality","id":"node_2l6gjvm9oau","position":{"x":4720,"y":4800},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-4r5n2dfyho","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"network","jsValue":"network_"},{"name":"value","usedVars":[],"value":"#pl","jsValue":"__modules__.query.Get(__params__.model, 'pl', null)"}],"selectGeom":false,"variable":"network"},{"type":0,"ID":"prod-cajnm62mriw","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"network#ps","usedVars":["network"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', network_)"}],"variable":"posis","selectGeom":false},{"type":14,"ID":"prod-tg7rg833o9f","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Source and target"}],"selectGeom":false},{"type":0,"ID":"prod-byrijyac05h","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"src","jsValue":"src_"},{"name":"value","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"variable":"src"},{"type":14,"ID":"prod-b4nbdiw1mhn","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calc degree centrality"}],"selectGeom":false},{"type":8,"ID":"prod-s38e88t57tm","enabled":false,"print":false,"meta":{"module":"analyze","name":"Degree"},"argCount":6,"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"__model__"},{"name":"source","value":"null","usedVars":[],"jsValue":"null"},{"name":"entities","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"alpha","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'undirected'","jsValue":"'undirected'","usedVars":[]}],"variable":"result","selectGeom":false},{"type":8,"ID":"prod-uvob652iq9l","enabled":false,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['posis']","usedVars":["result"],"jsValue":"result_['posis']"},{"name":"attrib","value":"\"centrality\"","usedVars":[],"jsValue":"\"centrality\""},{"name":"value","value":"result['degree']","usedVars":["result"],"jsValue":"result_['degree']"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":14,"ID":"prod-hd7sxr2mmgs","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Calc centrality"}],"selectGeom":false},{"type":8,"ID":"prod-hbhlkr379e9","enabled":true,"print":false,"meta":{"module":"analyze","name":"Centrality"},"argCount":6,"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"__model__"},{"name":"source","value":"null","usedVars":[],"jsValue":"null"},{"name":"entities","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"method","value":"'undirected'","jsValue":"'undirected'","usedVars":[]},{"name":"cen_type","value":"'betweenness'","jsValue":"'betweenness'","usedVars":[]}],"variable":"result"},{"type":8,"ID":"prod-n2q90itgopb","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['posis']","usedVars":["result"],"jsValue":"result_['posis']"},{"name":"attrib","value":"\"centrality\"","usedVars":[],"jsValue":"\"centrality\""},{"name":"value","value":"result['centrality']","usedVars":["result"],"jsValue":"result_['centrality']"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":14,"ID":"prod-9gvo6o7em5r","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"Collection"}]},{"type":8,"ID":"prod-a6ys7x0v2rh","enabled":true,"print":false,"meta":{"module":"collection","name":"Create"},"argCount":4,"args":[{"name":"var_name","value":"coll","jsValue":"coll_"},{"name":"__model__"},{"name":"entities","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"name","value":"\"network\"","usedVars":[],"jsValue":"\"network\""}],"variable":"coll"}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasError":false,"hasExecuted":true,"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Extrude\nposi centrality columns","id":"node_ipvvkizohz","position":{"x":4920,"y":4980},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-stzcv0amqar","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"coll","jsValue":"coll_"},{"name":"__model__"},{"name":"names","value":"\"network\"","usedVars":[],"jsValue":"\"network\""}],"variable":"coll","selectGeom":false},{"type":0,"ID":"prod-3d08auy3fmf","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"plines","jsValue":"plines_"},{"name":"value","value":"coll#pl","usedVars":["coll"],"jsValue":"__modules__.query.Get(__params__.model, 'pl', coll_)"}],"variable":"plines"},{"type":8,"ID":"prod-jmz4m73jh09","enabled":true,"print":false,"meta":{"module":"make","name":"Copy"},"argCount":4,"args":[{"name":"var_name","value":"plines2","jsValue":"plines2_"},{"name":"__model__"},{"name":"entities","value":"plines","usedVars":["plines"],"jsValue":"plines_"},{"name":"vector","value":"null","usedVars":[],"jsValue":"null"}],"variable":"plines2","selectGeom":false},{"type":0,"ID":"prod-0t3bgeslkb8c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"plines2#ps ?@centrality>0","usedVars":["plines2"],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', plines2_), ['centrality', null], '>', 0)"}],"variable":"posis"},{"type":0,"ID":"prod-vbg0k3plkh","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"max_count","jsValue":"max_count_"},{"name":"value","value":"max(posis@centrality )","usedVars":["posis"],"jsValue":"max(__debug__,  __modules__.attrib.Get(__params__.model, posis_, 'centrality'))"}],"variable":"max_count","selectGeom":false},{"type":4,"ID":"prod-txspdoq5ua8","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"posis","usedVars":["posis"],"jsValue":"posis_"}],"children":[{"type":13,"ID":"prod-3kyhtbbcrny","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","ID":"prod-36vodc9z062","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"centrality","jsValue":"centrality_"},{"name":"value","value":"posi@centrality","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'centrality')"}],"variable":"centrality"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","ID":"prod-6nc9f2iy5vs","enabled":true,"print":false,"meta":{"module":"pattern","name":"Arc"},"argCount":6,"args":[{"name":"var_name","value":"cir_posis","jsValue":"cir_posis_"},{"name":"__model__"},{"name":"origin","value":"posi@xyz","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'xyz')"},{"name":"radius","value":"20","usedVars":[],"jsValue":"20"},{"name":"num_positions","value":"6","usedVars":[],"jsValue":"6"},{"name":"arc_angle","value":"null","usedVars":[],"jsValue":"null"}],"variable":"cir_posis"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","ID":"prod-4m1uebk0sok","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"cir","jsValue":"cir_"},{"name":"__model__"},{"name":"entities","value":"cir_posis","usedVars":["cir_posis"],"jsValue":"cir_posis_"}],"variable":"cir"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","ID":"prod-frfvjlg5elc","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"cir","usedVars":["cir"],"jsValue":"cir_"},{"name":"dist","value":"100 * centrality / max_count","usedVars":["centrality","max_count"],"jsValue":"100 * centrality_ / max_count_"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","ID":"prod-cotaqv6u11w","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex@count","jsValue":"ex_@count","usedVars":["ex"]},{"name":"value","value":"centrality","usedVars":["centrality"],"jsValue":"centrality_"}],"variable":null}],"variable":"posi","selectGeom":false},{"type":8,"ID":"prod-8vbahaztlq7","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#pg ?@count>0","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['count', null], '>', 0)"},{"name":"attrib","value":"\"count\"","usedVars":[],"jsValue":"\"count\""},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasError":false,"hasExecuted":true,"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode"},"model":6}},"selected":false},{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Extrude\nposi centrality","id":"node_z9qdw0gl2l","position":{"x":4720,"y":4980},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-zvmbqc7fo1o","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"coll","jsValue":"coll_"},{"name":"__model__"},{"name":"names","value":"\"network\"","usedVars":[],"jsValue":"\"network\""}],"variable":"coll","selectGeom":false},{"type":0,"ID":"prod-a18l6mtc3e","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex_pgons","jsValue":"ex_pgons_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"ex_pgons","selectGeom":false},{"type":15,"ID":"prod-7cfvnf8335","enabled":false,"print":false,"argCount":0,"args":[],"selectGeom":false},{"type":4,"ID":"prod-h4v6kv5ipv","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"coll#_e","usedVars":["coll"],"jsValue":"__modules__.query.Get(__params__.model, '_e', coll_)"}],"children":[{"type":13,"ID":"prod-h1hecqrwkn8","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-jno1ruvbzuh","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"edge#ps","usedVars":["edge"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', edge_)"}],"variable":"posis","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-mcvseknwy9f","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"cen","jsValue":"cen_"},{"name":"value","value":"posis@centrality","usedVars":["posis"],"jsValue":"__modules__.attrib.Get(__params__.model, posis_, 'centrality')"}],"variable":"cen","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-273gmyshgco","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xyzs","jsValue":"xyzs_"},{"name":"value","value":"posis@xyz","usedVars":["posis"],"jsValue":"__modules__.attrib.Get(__params__.model, posis_, 'xyz')"}],"variable":"xyzs","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-0zznixbj9we","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xyz0","jsValue":"xyz0_"},{"name":"value","value":"[xyzs[0][0], xyzs[0][1], cen[0] * 100]","usedVars":["cen","xyzs"],"jsValue":"[xyzs_[pythonList(0, xyzs_.length)][pythonList(0, xyzs_[pythonList(0, xyzs_.length)].length)], xyzs_[pythonList(0, xyzs_.length)][pythonList(1, xyzs_[pythonList(0, xyzs_.length)].length)], cen_[pythonList(0, cen_.length)] * 100]"}],"variable":"xyz0","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-wpngdqri24","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xyz1","jsValue":"xyz1_"},{"name":"value","value":"[xyzs[1][0], xyzs[1][1], cen[1] * 100]","usedVars":["cen","xyzs"],"jsValue":"[xyzs_[pythonList(1, xyzs_.length)][pythonList(0, xyzs_[pythonList(1, xyzs_.length)].length)], xyzs_[pythonList(1, xyzs_.length)][pythonList(1, xyzs_[pythonList(1, xyzs_.length)].length)], cen_[pythonList(1, cen_.length)] * 100]"}],"variable":"xyz1","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-v2inlym4nj","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"top_posis","jsValue":"top_posis_"},{"name":"__model__"},{"name":"coords","value":"[xyz0, xyz1]","usedVars":["xyz0","xyz1"],"jsValue":"[xyz0_, xyz1_]"}],"variable":"top_posis","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-6ar69u4dw7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"top_posis[0]@centrality","jsValue":"top_posis_[pythonList(0, top_posis_.length)]@centrality","usedVars":["top_posis"]},{"name":"value","value":"cen[0]","usedVars":["cen"],"jsValue":"cen_[pythonList(0, cen_.length)]"}],"variable":null,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-svks8724mrg","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"top_posis[1]@centrality","jsValue":"top_posis_[pythonList(1, top_posis_.length)]@centrality","usedVars":["top_posis"]},{"name":"value","value":"cen[1]","usedVars":["cen"],"jsValue":"cen_[pythonList(1, cen_.length)]"}],"variable":null,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-9jqlxrv4cr","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"[posis[0], posis[1], top_posis[1], top_posis[0]]","usedVars":["posis","top_posis"],"jsValue":"[posis_[pythonList(0, posis_.length)], posis_[pythonList(1, posis_.length)], top_posis_[pythonList(1, top_posis_.length)], top_posis_[pythonList(0, top_posis_.length)]]"}],"variable":"ex","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~procedure~4","ID":"prod-amulgo83lso","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"ex_pgons","usedVars":["ex_pgons"],"jsValue":"ex_pgons_"},{"name":"item","value":"ex","usedVars":["ex"],"jsValue":"ex_"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}],"selectGeom":false}],"variable":"edge","selectGeom":false},{"type":8,"ID":"prod-qvncy7lssk","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"ex_pgons#ps","usedVars":["ex_pgons"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', ex_pgons_)"},{"name":"attrib","value":"'centrality'","usedVars":[],"jsValue":"'centrality'"},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_r24zaj6fji","position":{"x":4720,"y":5140},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","jsValue":""},{"name":"value","value":"","jsValue":"","usedVars":[]}],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true,"model":9}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode"},"hasError":false,"hasExecuted":true,"model":7}},"selected":false},{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"Extrude\nedge centrality","id":"node_xlz6vsezk6","position":{"x":4540,"y":4980},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-3hp6a1y58ne","enabled":true,"print":false,"meta":{"module":"collection","name":"Get"},"argCount":3,"args":[{"name":"var_name","value":"coll","jsValue":"coll_"},{"name":"__model__"},{"name":"names","value":"\"network\"","usedVars":[],"jsValue":"\"network\""}],"variable":"coll"},{"type":8,"ID":"prod-6i00r64f0ip","enabled":true,"print":false,"meta":{"module":"attrib","name":"Push"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"coll#ps","usedVars":["coll"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', coll_)"},{"name":"attrib","value":"'centrality'","usedVars":[],"jsValue":"'centrality'"},{"name":"ent_type_sel","value":"'_e'","jsValue":"'_e'","usedVars":[]},{"name":"method_sel","value":"'average'","jsValue":"'average'","usedVars":[]}]},{"type":0,"ID":"prod-0t3bgeslkb8c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"coll#_e ?@centrality>0","usedVars":["coll"],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, '_e', coll_), ['centrality', null], '>', 0)"}],"variable":"edges"},{"type":0,"ID":"prod-vbg0k3plkh","enabled":true,"print":true,"argCount":2,"args":[{"name":"var_name","value":"max_count","jsValue":"max_count_"},{"name":"value","value":"max(edges@centrality )","usedVars":["edges"],"jsValue":"max(__debug__,  __modules__.attrib.Get(__params__.model, edges_, 'centrality'))"}],"variable":"max_count","selectGeom":false},{"type":4,"ID":"prod-txspdoq5ua8","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"edges","usedVars":["edges"],"jsValue":"edges_"}],"children":[{"type":13,"ID":"prod-3kyhtbbcrny","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target~parentNode~procedure~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target~parentNode~procedure~5","ID":"prod-krxsoyqokb","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"centrality","jsValue":"centrality_"},{"name":"value","value":"edge@centrality","usedVars":["edge"],"jsValue":"__modules__.attrib.Get(__params__.model, edge_, 'centrality')"}],"variable":"centrality"},{"type":8,"ID":"prod-75mjwimdq0e","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"dist","value":"100 * centrality / max_count","usedVars":["centrality","max_count"],"jsValue":"100 * centrality_ / max_count_"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target~parentNode~procedure~5"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target~parentNode~procedure~5","ID":"prod-ara2jdjxxrm","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex@centrality","jsValue":"ex_@centrality","usedVars":["ex"]},{"name":"value","value":"centrality","usedVars":["centrality"],"jsValue":"centrality_"}],"variable":null,"selectGeom":false}],"variable":"edge","selectGeom":false},{"type":8,"ID":"prod-8vbahaztlq7","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"#pg ?@centrality>0","usedVars":[],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['centrality', null], '>', 0)"},{"name":"attrib","value":"\"centrality\"","usedVars":[],"jsValue":"\"centrality\""},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target~parentNode"},"hasError":false,"hasExecuted":true,"model":8}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode"},"model":5}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true,"model":3}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0"},"hasError":false,"hasExecuted":true,"model":2},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~2","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~1~target~parentNode~output~edges~0"],"functions":[],"ordered":true,"last_updated":"2020-12-29T10:41:58.763Z"},"version":"0.7.1","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":false,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":false,\"size\":3.2},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":true},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-1263.3985422195974,\"y\":-2058.5684292491737,\"z\":1769.0662277092576},\"target\":{\"x\":0,\"y\":0,\"z\":0},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.5},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.5},\"directional_light\":{\"show\":false,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":3072},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":0,\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.5.12\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"updated\":true,\"time\":{\"date\":\"2020-05-11\"},\"model\":{\"polygonEdge\":true}}}"}