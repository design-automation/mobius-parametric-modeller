{"name":"Wind_paths","author":"new_user","flowchart":{"id":"57811c45-318a-72a6-7886-b74de9120742","name":"Wind paths","description":"","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_sikkoa82jdm","position":{"x":5280,"y":4960},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":10,"ID":"prod-21ncz4v43d5","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":1,"description":""},"args":[{"name":"const_name","value":"wind_direction","jsValue":"wind_direction_"},{"name":"__input__","value":"45","step":"1","min":"0","max":"360"}]},{"type":10,"ID":"prod-91maoop3aw4","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":2,"description":"Flatten the 3D model"},"args":[{"name":"const_name","jsValue":"flatten_model_","value":"flatten_model"},{"name":"__input__","value":false}],"selectGeom":false},{"type":10,"ID":"prod-gxjez1v6vir","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":2,"description":"Delete the 3D model"},"args":[{"name":"const_name","jsValue":"delete_model_","value":"delete_model"},{"name":"__input__","value":false}],"selectGeom":false},{"type":10,"ID":"prod-c1fkiuwhgc6","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":2,"description":"Visualize the FAI weights on positions as extruded columns."},"args":[{"name":"const_name","value":"vis_posi_fai","jsValue":"vis_posi_fai_"},{"name":"__input__","value":false}],"selectGeom":false},{"type":10,"ID":"prod-xh5tlzma39s","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":2,"description":"Visualize the FAI weights on edges as extruded polygons."},"args":[{"name":"const_name","jsValue":"vis_edge_fai_","value":"vis_edge_fai"},{"name":"__input__","value":false}],"selectGeom":false},{"type":10,"ID":"prod-pyczl69s6vs","enabled":true,"print":false,"argCount":2,"meta":{"module":"Input","name":"Constant","inputMode":2,"description":"Visualize the shortest paths as extruded polygons."},"args":[{"name":"const_name","jsValue":"vis_ventilation_paths_","value":"vis_ventilation_paths"},{"name":"__input__","value":true}],"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":false,"show_func":false},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"generate buildings","id":"node_xz7g7kgtimo","position":{"x":5280,"y":5080},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-r49mczqewa","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"33.80490069679964","usedVars":[],"jsValue":"33.80490069679964"}],"variable":"rand_seed"},{"type":8,"ID":"prod-dafv6fkj75o","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"grid","jsValue":"grid_"},{"name":"__model__"},{"name":"origin","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"size","value":"1200","usedVars":[],"jsValue":"1200"},{"name":"num_positions","value":"8","usedVars":[],"jsValue":"8"},{"name":"method","value":"'columns'","usedVars":[],"jsValue":"'columns'"}],"variable":"grid"},{"type":8,"ID":"prod-d866hjkjhn6","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"cols","jsValue":"cols_"},{"name":"__model__"},{"name":"entities","value":"grid","usedVars":["grid"],"jsValue":"grid_"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"cols"},{"type":8,"ID":"prod-wzx4z0drzum","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"rows","jsValue":"rows_"},{"name":"__model__"},{"name":"entities","value":"zip(grid)","usedVars":["grid"],"jsValue":"zip(grid_)"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"rows","selectGeom":false},{"type":4,"ID":"prod-nk5k35yenmr","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"row","jsValue":"row_"},{"name":"list","value":"rows","usedVars":["rows"],"jsValue":"rows_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~5","ID":"prod-11fx1toktwvh","enabled":true,"print":false,"meta":{"module":"calc","name":"Centroid"},"argCount":4,"args":[{"name":"var_name","value":"cen","jsValue":"cen_"},{"name":"__model__"},{"name":"entities","value":"row","usedVars":["row"],"jsValue":"row_"},{"name":"method","value":"'ps_average'","usedVars":[],"jsValue":"'ps_average'"}],"variable":"cen"},{"type":0,"ID":"prod-qqfz6u4mv2j","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~5"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~5","ID":"prod-5s73u330843","enabled":true,"print":false,"meta":{"module":"modify","name":"Rotate"},"argCount":5,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"row","usedVars":["row"],"jsValue":"row_"},{"name":"ray","value":"cen","usedVars":["cen"],"jsValue":"cen_"},{"name":"angle","value":"degToRad(rand(-15, 15, rand_seed))","usedVars":["rand_seed"],"jsValue":"degToRad(rand(-15, 15, rand_seed_))"}]}],"variable":"row"},{"type":4,"ID":"prod-9xilvtt695","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"col","jsValue":"col_"},{"name":"list","value":"cols","usedVars":["cols"],"jsValue":"cols_"}],"children":[{"type":13,"ID":"prod-elt09mlfwk9","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~6","ID":"prod-oxay901cb2l","enabled":true,"print":false,"meta":{"module":"calc","name":"Centroid"},"argCount":4,"args":[{"name":"var_name","value":"cen","jsValue":"cen_"},{"name":"__model__"},{"name":"entities","value":"col","usedVars":["col"],"jsValue":"col_"},{"name":"method","value":"'ps_average'","usedVars":[],"jsValue":"'ps_average'"}],"variable":"cen","selectGeom":false},{"type":0,"ID":"prod-lmzyjnls8p8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~6"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~6","ID":"prod-ictmt5nmps","enabled":true,"print":false,"meta":{"module":"modify","name":"Rotate"},"argCount":5,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"col","usedVars":["col"],"jsValue":"col_"},{"name":"ray","value":"cen","usedVars":["cen"],"jsValue":"cen_"},{"name":"angle","value":"degToRad(rand(-10, 10, rand_seed))","usedVars":["rand_seed"],"jsValue":"degToRad(rand(-10, 10, rand_seed_))"}],"selectGeom":false}],"variable":"col","selectGeom":false},{"type":8,"ID":"prod-lct39me1hv8","enabled":true,"print":false,"meta":{"module":"make","name":"Loft"},"argCount":5,"args":[{"name":"var_name","value":"base","jsValue":"base_"},{"name":"__model__"},{"name":"entities","value":"[cols[0], cols[-1]]","usedVars":["cols"],"jsValue":"[cols_[pythonList(0, cols_.length)], cols_[pythonList(-1, cols_.length)]]"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'open_quads'","jsValue":"'open_quads'","usedVars":[]}],"variable":"base"},{"type":8,"ID":"prod-uk2xrf6n46j","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"segs","jsValue":"segs_"},{"name":"__model__"},{"name":"entities","value":"#_e","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, '_e', null)"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"selectGeom":false,"variable":"segs"},{"type":8,"ID":"prod-8r1rfjl96th","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetChamfer"},"argCount":5,"args":[{"name":"var_name","value":"main_road","jsValue":"main_road_"},{"name":"__model__"},{"name":"entities","value":"rows[3]","usedVars":["rows"],"jsValue":"rows_[pythonList(3, rows_.length)]"},{"name":"dist","value":"16","usedVars":[],"jsValue":"16"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"main_road","selectGeom":false},{"type":0,"ID":"prod-bsh5ixukwhs","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false},{"type":8,"ID":"prod-8gn52um905","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"randPick(segs, 12, rand_seed)","usedVars":["rand_seed","segs"],"jsValue":"randPick(segs_, 12, rand_seed_)"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}]},{"type":8,"ID":"prod-284buykkx34","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetChamfer"},"argCount":5,"args":[{"name":"var_name","value":"streets","jsValue":"streets_"},{"name":"__model__"},{"name":"entities","value":"segs#pl","usedVars":["segs"],"jsValue":"__modules__.query.Get(__params__.model, 'pl', segs_)"},{"name":"dist","value":"8","usedVars":[],"jsValue":"8"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"streets"},{"type":8,"ID":"prod-xifbfsem23n","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Union"},"argCount":3,"args":[{"name":"var_name","value":"streets2","jsValue":"streets2_"},{"name":"__model__"},{"name":"entities","value":"[main_road, streets]","usedVars":["main_road","streets"],"jsValue":"[main_road_, streets_]"}],"variable":"streets2"},{"type":8,"ID":"prod-48yyyfjrggb","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[cols, rows, streets, main_road]","usedVars":["cols","rows","main_road","streets"],"jsValue":"[cols_, rows_, streets_, main_road_]"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false},{"type":8,"ID":"prod-7itcp6nb7xd","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Boolean"},"argCount":5,"args":[{"name":"var_name","value":"blocks","jsValue":"blocks_"},{"name":"__model__"},{"name":"a_entities","value":"base","usedVars":["base"],"jsValue":"base_"},{"name":"b_entities","value":"streets2","usedVars":["streets2"],"jsValue":"streets2_"},{"name":"method","value":"'difference'","jsValue":"'difference'","usedVars":[]}],"variable":"blocks"},{"type":8,"ID":"prod-92yt68nv6o","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[base]","usedVars":["base"],"jsValue":"[base_]"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}]},{"type":0,"ID":"prod-fhqf61hh5","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"all_bldg_bases","jsValue":"all_bldg_bases_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"all_bldg_bases"},{"type":4,"ID":"prod-0jeja0cc2kj5","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"block","jsValue":"block_"},{"name":"list","value":"blocks","usedVars":["blocks"],"jsValue":"blocks_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-gx6zk65nt8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 10","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 10"}],"variable":"rand_seed","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18"},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","ID":"prod-89c2unkjton","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"genBldgBases","otherInfo":{}},"args":[{"name":"var_name","value":"bldg_bases","jsValue":"bldg_bases_"},{"name":"block","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"rand_seed","value":"rand_seed","jsValue":"rand_seed_","usedVars":["rand_seed"]}],"variable":"bldg_bases"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~18","ID":"prod-59cuqiga67x","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"all_bldg_bases","usedVars":["all_bldg_bases"],"jsValue":"all_bldg_bases_"},{"name":"item","value":"bldg_bases","usedVars":["bldg_bases"],"jsValue":"bldg_bases_"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}]}],"variable":"block"},{"type":4,"ID":"prod-xxs0fs277ds","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"bldg_base","jsValue":"bldg_base_"},{"name":"list","value":"all_bldg_bases","usedVars":["all_bldg_bases"],"jsValue":"all_bldg_bases_"}],"children":[{"type":13,"ID":"prod-4nssnlrrby","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~19","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-f0ramnd81bv","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 10","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 10"}],"variable":"rand_seed","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~19"},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~procedure~19","ID":"prod-vupypg3ta6","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"genBldgs"},"args":[{"name":"var_name","value":"bldg","jsValue":"bldg_"},{"name":"bldg_base","value":"bldg_base","usedVars":["bldg_base"],"jsValue":"bldg_base_"},{"name":"rand_seed","value":"rand_seed","usedVars":["rand_seed"],"jsValue":"rand_seed_"}],"variable":"bldg"}],"variable":"bldg_base","selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":16,"ID":"prod-3lkz53p9ksi","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"genBldgBases","num_returns":5,"collapsed":true}},"args":[{"name":"func_name","value":"genBldgBases","jsValue":"genBldgBases_"},{"name":"arg_1","value":"block","jsValue":"block_","usedVars":["block"]},{"name":"arg_2","value":"rand_seed","jsValue":"rand_seed_","usedVars":["rand_seed"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-asnuwu2v56","enabled":true,"print":false,"meta":{"module":"calc","name":"Area"},"argCount":3,"args":[{"name":"var_name","value":"block_area","jsValue":"block_area_"},{"name":"__model__"},{"name":"entities","value":"block","usedVars":["block"],"jsValue":"block_"}],"variable":"block_area","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-uchj7vfxg2","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"block_area < 300","usedVars":["block_area"],"jsValue":"block_area_ < 300"}],"children":[{"type":13,"ID":"prod-syiht2l4z2","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","ID":"prod-cufumi55529","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~2","ID":"prod-gef62wgqblt","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"[]","usedVars":[],"jsValue":"[]"}]}],"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-pmgjh0woa6","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"block_area < 600","usedVars":["block_area"],"jsValue":"block_area_ < 600"}],"children":[{"type":13,"ID":"prod-jvuy1wmak","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~3","ID":"prod-ak7907oc039","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"[block]","usedVars":["block"],"jsValue":"[block_]"}],"selectGeom":false}],"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-15ej9ispibi","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"core","jsValue":"core_"},{"name":"__model__"},{"name":"entities","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"dist","value":"-50","usedVars":[],"jsValue":"-50"},{"name":"limit","value":"15","usedVars":[],"jsValue":"15"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"core","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-utrbxl17xqc","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"len(core) == 0","usedVars":["core"],"jsValue":"len(core_) == 0"}],"children":[{"type":13,"ID":"prod-doavvk8zr1h","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~5","ID":"prod-9taeqon6oi4","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"genBldgBasesRow"},"args":[{"name":"var_name","value":"bases","jsValue":"bases_"},{"name":"block","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"rand_seed","value":"rand_seed","usedVars":["rand_seed"],"jsValue":"rand_seed_"}],"variable":"bases","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~5","ID":"prod-0vnyunt50ke","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"bases","usedVars":["bases"],"jsValue":"bases_"}],"selectGeom":false}],"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-czjxd1nts5v","enabled":true,"print":false,"meta":{"module":"calc","name":"Area"},"argCount":3,"args":[{"name":"var_name","value":"core_area","jsValue":"core_area_"},{"name":"__model__"},{"name":"entities","value":"core[0]","usedVars":["core"],"jsValue":"core_[pythonList(0, core_.length)]"}],"variable":"core_area","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-8dk9259xw9b","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"core_area < 1000","usedVars":["core_area"],"jsValue":"core_area_ < 1000"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~7","ID":"prod-8lu6kwndibw","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"core","usedVars":["core"],"jsValue":"core_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~7","ID":"prod-20tn6ooyis8","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"genBldgBasesRow"},"args":[{"name":"var_name","value":"bases","jsValue":"bases_"},{"name":"block","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"rand_seed","value":"rand_seed","usedVars":["rand_seed"],"jsValue":"rand_seed_"}],"variable":"bases","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1~children~7","ID":"prod-srvxn2wptyr","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"bases","usedVars":["bases"],"jsValue":"bases_"}],"selectGeom":false}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-81tkv5tfazr","enabled":false,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-itig4g7v6ka","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"genBldgBasesPerim","otherInfo":{}},"args":[{"name":"var_name","value":"bases","jsValue":"bases_"},{"name":"core","value":"core","jsValue":"core_","usedVars":["core"]},{"name":"rand_seed","value":"rand_seed","jsValue":"rand_seed_","usedVars":["rand_seed"]}],"variable":"bases","selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~1","ID":"prod-117894ydccu","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"bases","usedVars":["bases"],"jsValue":"bases_"}],"selectGeom":false}],"variable":null},{"type":16,"ID":"prod-o87yuoftif","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"genBldgBasesRow","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"genBldgBasesRow","jsValue":"genBldgBasesRow_"},{"name":"arg_1","value":"block","jsValue":"block_","usedVars":["block"]},{"name":"arg_2","value":"rand_seed","jsValue":"rand_seed_","usedVars":["rand_seed"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-hp1cd39648i","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"a","jsValue":"a_"},{"name":"__model__"},{"name":"entities","value":"block","usedVars":["block"],"jsValue":"block_"},{"name":"dist","value":"-4","usedVars":[],"jsValue":"-4"},{"name":"limit","value":"15","usedVars":[],"jsValue":"15"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"a","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-4314xwh147i","enabled":true,"print":false,"meta":{"module":"poly2d","name":"BBoxPolygon"},"argCount":4,"args":[{"name":"var_name","value":"b","jsValue":"b_"},{"name":"__model__"},{"name":"entities","value":"a","usedVars":["a"],"jsValue":"a_"},{"name":"method","value":"'obb'","jsValue":"'obb'","usedVars":[]}],"variable":"b","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-29yynbjst68","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edges","jsValue":"edges_"},{"name":"value","value":"b#_e","usedVars":["b"],"jsValue":"__modules__.query.Get(__params__.model, '_e', b_)"}],"variable":"edges","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-j4kgejb8mpg","enabled":true,"print":false,"meta":{"module":"calc","name":"Length"},"argCount":3,"args":[{"name":"var_name","value":"length0","jsValue":"length0_"},{"name":"__model__"},{"name":"entities","value":"edges[0]","usedVars":["edges"],"jsValue":"edges_[pythonList(0, edges_.length)]"}],"variable":"length0","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-0m02he01zhzf","enabled":true,"print":false,"meta":{"module":"calc","name":"Length"},"argCount":3,"args":[{"name":"var_name","value":"length1","jsValue":"length1_"},{"name":"__model__"},{"name":"entities","value":"edges[1]","usedVars":["edges"],"jsValue":"edges_[pythonList(1, edges_.length)]"}],"variable":"length1","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-x1bxk5huttr","enabled":true,"print":false,"meta":{"module":"calc","name":"Plane"},"argCount":3,"args":[{"name":"var_name","value":"pln","jsValue":"pln_"},{"name":"__model__"},{"name":"entities","value":"b","usedVars":["b"],"jsValue":"b_"}],"variable":"pln","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-w79mtpp9j5b","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"num_grid_positions","jsValue":"num_grid_positions_"},{"name":"value","value":"[1 + ceil(length0 / 50), 2]","usedVars":["length0"],"jsValue":"[1 + ceil(length0_ / 50), 2]"}],"variable":"num_grid_positions"},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-k1cpfz6n4mh","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"length1 > 80","usedVars":["length1"],"jsValue":"length1_ > 80"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2~children~8","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2~children~8","ID":"prod-gm6c7xuknjr","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"num_grid_positions[1]","jsValue":"num_grid_positions_[pythonList(1, num_grid_positions_.length)]","usedVars":["num_grid_positions"]},{"name":"value","value":"3","usedVars":[],"jsValue":"3"}],"variable":null,"selectGeom":false}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-ostmc6slwr","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"grid","jsValue":"grid_"},{"name":"__model__"},{"name":"origin","value":"pln","usedVars":["pln"],"jsValue":"pln_"},{"name":"size","value":"[length0, length1]","usedVars":["length0","length1"],"jsValue":"[length0_, length1_]"},{"name":"num_positions","value":"num_grid_positions","usedVars":["num_grid_positions"],"jsValue":"num_grid_positions_"},{"name":"method","value":"'quads'","usedVars":[],"jsValue":"'quads'"}],"variable":"grid","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-w2z1ltw3u0g","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"c","jsValue":"c_"},{"name":"__model__"},{"name":"entities","value":"grid","usedVars":["grid"],"jsValue":"grid_"}],"variable":"c","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-huhnzabz5mq","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Boolean"},"argCount":5,"args":[{"name":"var_name","value":"bldg_bases","jsValue":"bldg_bases_"},{"name":"__model__"},{"name":"a_entities","value":"c","usedVars":["c"],"jsValue":"c_"},{"name":"b_entities","value":"a","usedVars":["a"],"jsValue":"a_"},{"name":"method","value":"'intersect'","jsValue":"'intersect'","usedVars":[]}],"variable":"bldg_bases","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-xkfcvrpo28","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[a, b, c]","usedVars":["a","b","c"],"jsValue":"[a_, b_, c_]"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~2","ID":"prod-q6doxqrafc","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"bldg_bases","usedVars":["bldg_bases"],"jsValue":"bldg_bases_"}],"selectGeom":false}],"variable":null},{"type":16,"ID":"prod-5s9406hh8gy","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"genBldgBasesPerim","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"genBldgBasesPerim","jsValue":"genBldgBasesPerim_"},{"name":"arg_1","value":"core","jsValue":"core_","usedVars":["core"]},{"name":"arg_2","value":"rand_seed","jsValue":"rand_seed_","usedVars":["rand_seed"]}],"children":[{"type":13,"ID":"prod-6nk82ndrues","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-7rv8kgxfldo","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"b","jsValue":"b_"},{"name":"__model__"},{"name":"entities","value":"core","usedVars":["core"],"jsValue":"core_"},{"name":"dist","value":"44","usedVars":[],"jsValue":"44"},{"name":"limit","value":"15","usedVars":[],"jsValue":"15"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"b","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-yjuogv7fl1d","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"c","jsValue":"c_"},{"name":"__model__"},{"name":"entities","value":"core","usedVars":["core"],"jsValue":"core_"},{"name":"dist","value":"20","usedVars":[],"jsValue":"20"},{"name":"limit","value":"15","usedVars":[],"jsValue":"15"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"c","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-7ba9fzp0ni","enabled":true,"print":false,"meta":{"module":"make","name":"Divide"},"argCount":5,"args":[{"name":"var_name","value":"div","jsValue":"div_"},{"name":"__model__"},{"name":"entities","value":"c","usedVars":["c"],"jsValue":"c_"},{"name":"divisor","value":"50","usedVars":[],"jsValue":"50"},{"name":"method","value":"'by_min_length'","jsValue":"'by_min_length'","usedVars":[]}],"variable":"div","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-9y1k9mz8855","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Voronoi"},"argCount":4,"args":[{"name":"var_name","value":"d","jsValue":"d_"},{"name":"__model__"},{"name":"pgons","value":"b","usedVars":["b"],"jsValue":"b_"},{"name":"entities","value":"div","usedVars":["div"],"jsValue":"div_"}],"variable":"d","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-c0ysicyofcn","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Boolean"},"argCount":5,"args":[{"name":"var_name","value":"bldg_bases","jsValue":"bldg_bases_"},{"name":"__model__"},{"name":"a_entities","value":"d","usedVars":["d"],"jsValue":"d_"},{"name":"b_entities","value":"core","usedVars":["core"],"jsValue":"core_"},{"name":"method","value":"'difference'","jsValue":"'difference'","usedVars":[]}],"variable":"bldg_bases","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-zb50ubelyk","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[core, b, c, d]","usedVars":["b","c","d","core"],"jsValue":"[core_, b_, c_, d_]"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-xkpry66vk6i","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"len(bldg_bases) > 10","usedVars":["bldg_bases"],"jsValue":"len(bldg_bases_) > 10"}],"children":[{"type":13,"ID":"prod-1r4reqp72tc","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3~children~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3~children~7","ID":"prod-gpuju98kci","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"del_num","jsValue":"del_num_"},{"name":"value","value":"round(len(bldg_bases) * 0.2)","usedVars":["bldg_bases"],"jsValue":"round(len(bldg_bases_) * 0.2)"}],"variable":"del_num","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3~children~7","ID":"prod-fnw9vpei4kv","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3~children~7","ID":"prod-3kgqs56ypov","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"del","jsValue":"del_"},{"name":"value","value":"randPick(bldg_bases, del_num, rand_seed)","usedVars":["del_num","rand_seed","bldg_bases"],"jsValue":"randPick(bldg_bases_, del_num_, rand_seed_)"}],"variable":"del","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3~children~7","ID":"prod-cws7f88qvdv","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"del","usedVars":["del"],"jsValue":"del_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false}],"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~3","ID":"prod-k4nswinew2","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"bldg_bases#pg","usedVars":["bldg_bases"],"jsValue":"__modules__.query.Get(__params__.model, 'pg', bldg_bases_)"}],"selectGeom":false}],"variable":null,"selectGeom":false},{"type":16,"ID":"prod-hhnlncsu7g8","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"genBldgs","num_returns":3,"collapsed":true}},"args":[{"name":"func_name","value":"genBldgs","jsValue":"genBldgs_"},{"name":"arg_1","value":"bldg_base","jsValue":"bldg_base_","usedVars":["bldg_base"]},{"name":"arg_2","value":"rand_seed","jsValue":"rand_seed_","usedVars":["rand_seed"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-h20imxx7bmq","enabled":true,"print":false,"meta":{"module":"calc","name":"Area"},"argCount":3,"args":[{"name":"var_name","value":"area","jsValue":"area_"},{"name":"__model__"},{"name":"entities","value":"bldg_base","usedVars":["bldg_base"],"jsValue":"bldg_base_"}],"variable":"area","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-x7x9rzgwmlr","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"area < 500","usedVars":["area"],"jsValue":"area_ < 500"}],"children":[{"type":13,"ID":"prod-xc91mf4dnjr","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~2","ID":"prod-vuc8s0ihym","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","usedVars":[],"value":"[]","jsValue":"[]"}],"selectGeom":false}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-xusbeeus3ij","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"elev","jsValue":"elev_"},{"name":"value","value":"0","usedVars":[],"jsValue":"0"}],"variable":"elev","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-v8bp0cen4z","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-668y9rnea5","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"num_floors","jsValue":"num_floors_"},{"name":"value","value":"randInt(3, 12, rand_seed)","usedVars":["rand_seed"],"jsValue":"randInt(3, 12, rand_seed_)"}],"variable":"num_floors","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-9276cuc8p4j","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-jqz58agbvnh","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"rand(0, 1, rand_seed) > 0.95","usedVars":["rand_seed"],"jsValue":"rand(0, 1, rand_seed_) > 0.95"}],"children":[{"type":13,"ID":"prod-rljo8d80jh","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~7","ID":"prod-vb0ngqx5nni","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"elev","jsValue":"elev_"},{"name":"value","value":"9","usedVars":[],"jsValue":"9"}],"variable":"elev","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~7","ID":"prod-p8vhgk9umb","enabled":true,"print":false,"meta":{"module":"make","name":"Copy"},"argCount":4,"args":[{"name":"var_name","value":"bldg_base","jsValue":"bldg_base_"},{"name":"__model__"},{"name":"entities","value":"bldg_base","usedVars":["bldg_base"],"jsValue":"bldg_base_"},{"name":"vector","value":"[0, 0, elev]","usedVars":["elev"],"jsValue":"[0, 0, elev_]"}],"variable":"bldg_base","selectGeom":false}],"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-1pp788y5jye","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"bldg_base","usedVars":["bldg_base"],"jsValue":"bldg_base_"},{"name":"dist","value":"num_floors * 3","usedVars":["num_floors"],"jsValue":"num_floors_ * 3"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-0lft9ei4aol","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex[-1]@type","jsValue":"ex_[pythonList(-1, ex_.length)]@type","usedVars":["ex"]},{"name":"value","value":"\"roof\"","usedVars":[],"jsValue":"\"roof\""}],"variable":null},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-bnfmpp7sdo","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex[:-1]@type","jsValue":"ex_.slice(0,-1)@type","usedVars":["ex"]},{"name":"value","value":"\"facades\"","usedVars":[],"jsValue":"\"facades\""}],"variable":null,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-ytb9wamm4l","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"roof","jsValue":"roof_"},{"name":"value","value":"ex[-1]","usedVars":["ex"],"jsValue":"ex_[pythonList(-1, ex_.length)]"}],"variable":"roof","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-kfb7bzy86ks","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"num_floors > 7 || len(bldg_base#_e ) > 6 || area < 1600","usedVars":["area","num_floors","bldg_base"],"jsValue":"num_floors_ > 7 || len( __modules__.query.Get(__params__.model, '_e', bldg_base_)) > 6 || area_ < 1600"}],"children":[{"type":13,"ID":"prod-f97sx9zyyfc","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~12","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4~children~12","ID":"prod-qmlxrh4stz","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","usedVars":["ex"],"value":"ex","jsValue":"ex_"}],"selectGeom":false}],"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-pdut6ycg8o","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"a","jsValue":"a_"},{"name":"__model__"},{"name":"entities","value":"roof","usedVars":["roof"],"jsValue":"roof_"},{"name":"dist","value":"-15","usedVars":[],"jsValue":"-15"},{"name":"limit","value":"15","usedVars":[],"jsValue":"15"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"a","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-vg5d01y86jj","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"b","jsValue":"b_"},{"name":"__model__"},{"name":"entities","value":"a","usedVars":["a"],"jsValue":"a_"},{"name":"dist","value":"10","usedVars":[],"jsValue":"10"},{"name":"limit","value":"15","usedVars":[],"jsValue":"15"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"b","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-jfj2aq8pi4l","enabled":true,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"b","usedVars":["b"],"jsValue":"b_"},{"name":"vectors","value":"[0, 0, elev + num_floors * 3]","usedVars":["elev","num_floors"],"jsValue":"[0, 0, elev_ + num_floors_ * 3]"}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-0588ibsvize","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"rand_seed + 1","usedVars":["rand_seed"],"jsValue":"rand_seed_ + 1"}],"variable":"rand_seed","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-bdddrfq4khf","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex2","jsValue":"ex2_"},{"name":"__model__"},{"name":"entities","value":"b","usedVars":["b"],"jsValue":"b_"},{"name":"dist","value":"randInt(5, 36, rand_seed) * 3","usedVars":["rand_seed"],"jsValue":"randInt(5, 36, rand_seed_) * 3"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex2","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-9sojqnc8uae","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex2[-1]@type","jsValue":"ex2_[pythonList(-1, ex2_.length)]@type","usedVars":["ex2"]},{"name":"value","value":"\"roof\"","usedVars":[],"jsValue":"\"roof\""}],"variable":null,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-y5e4m7z0gkg","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex2[:-1]@type","jsValue":"ex2_.slice(0,-1)@type","usedVars":["ex2"]},{"name":"value","value":"\"facades\"","usedVars":[],"jsValue":"\"facades\""}],"variable":null,"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~localFunc~4","ID":"prod-dhzv7ej9hjb","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","usedVars":["ex","ex2"],"value":"listJoin(ex, ex2)","jsValue":"listJoin(ex_, ex2_)"}],"selectGeom":false}],"variable":null}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"slice model","id":"node_2j7kygvaron","position":{"x":5280,"y":5220},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-xlbnedm348","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"all_pgons","jsValue":"all_pgons_"},{"name":"value","value":"#pg","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'pg', null)"}],"variable":"all_pgons"},{"type":14,"ID":"prod-mkz2vtuhvta","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create a set of long slices by cutting the model"}]},{"type":0,"ID":"prod-ewa7ap6msxb","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"slices","jsValue":"slices_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"slices","selectGeom":false},{"type":0,"ID":"prod-xt7fi7g940d","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons_to_cut","jsValue":"pgons_to_cut_"},{"name":"value","value":"all_pgons","usedVars":["all_pgons"],"jsValue":"all_pgons_"}],"variable":"pgons_to_cut"},{"type":4,"ID":"prod-xckr8v2g9t","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(-5, 5)","usedVars":[],"jsValue":"range(-5, 5)"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-y6gewvrp7xi","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pln","jsValue":"pln_"},{"name":"value","value":"plnMove(XZ, [0, i * 100, 0])","usedVars":["i"],"jsValue":"plnMove(JSON.parse(JSON.stringify(XZ)), [0, i_ * 100, 0])"}],"variable":"pln"},{"type":8,"ID":"prod-gtthl8cuc0p","enabled":false,"print":false,"meta":{"module":"visualize","name":"Plane"},"argCount":4,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"__model__"},{"name":"planes","usedVars":["pln"],"value":"pln","jsValue":"pln_"},{"name":"scale","usedVars":[],"value":"300","jsValue":"300"}],"variable":"v","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"},{"type":8,"ID":"prod-ato43j4jwrb","enabled":true,"print":false,"meta":{"module":"make","name":"Cut"},"argCount":5,"args":[{"name":"var_name","value":"cut_pgons","jsValue":"cut_pgons_"},{"name":"__model__"},{"name":"entities","value":"pgons_to_cut","usedVars":["pgons_to_cut"],"jsValue":"pgons_to_cut_"},{"name":"plane","value":"pln","usedVars":["pln"],"jsValue":"pln_"},{"name":"method","value":"'keep_both'","jsValue":"'keep_both'","usedVars":[]}],"variable":"cut_pgons","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-uw8agg6uq6","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons_to_cut","jsValue":"pgons_to_cut_"},{"name":"value","value":"cut_pgons[1]","usedVars":["cut_pgons"],"jsValue":"cut_pgons_[pythonList(1, cut_pgons_.length)]"}],"variable":"pgons_to_cut"},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-2j0d50o5cn7","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"i == -5","usedVars":["i"],"jsValue":"i_ == -5"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":7,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5~children~5","ID":"prod-z7avqx82lzr","enabled":true,"print":false,"argCount":0,"args":[]}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~5","ID":"prod-qgd17obgkck","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"slices","usedVars":["slices"],"jsValue":"slices_"},{"name":"item","value":"cut_pgons[0]","usedVars":["cut_pgons"],"jsValue":"cut_pgons_[pythonList(0, cut_pgons_.length)]"},{"name":"method","value":"'to_end'","jsValue":"'to_end'","usedVars":[]}]}],"variable":"i"},{"type":14,"ID":"prod-nv01i11k0ub","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create a set of cells by cutting slices"}]},{"type":0,"ID":"prod-qvwf5wv2l9c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"cells","jsValue":"cells_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"cells"},{"type":0,"ID":"prod-8icv5mtdwfg","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"counter","jsValue":"counter_"},{"name":"value","value":"0","usedVars":[],"jsValue":"0"}],"variable":"counter"},{"type":4,"ID":"prod-l848pjfwkre","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"slice_num","jsValue":"slice_num_"},{"name":"list","value":"range(len(slices))","usedVars":["slices"],"jsValue":"range(len(slices_))"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9","ID":"prod-bkj2876r3v7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"slice","jsValue":"slice_"},{"name":"value","value":"slices[slice_num]","usedVars":["slices","slice_num"],"jsValue":"slices_[pythonList(slice_num_, slices_.length)]"}],"variable":"slice"},{"type":0,"ID":"prod-r45379x9o8e","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons_to_cut","jsValue":"pgons_to_cut_"},{"name":"value","value":"slice","usedVars":["slice"],"jsValue":"slice_"}],"variable":"pgons_to_cut","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9"},{"type":4,"ID":"prod-ptsjjhecpzd","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(-5, 5)","usedVars":[],"jsValue":"range(-5, 5)"}],"children":[{"type":13,"ID":"prod-hl6w71cniu","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","ID":"prod-iz2lalx4nbk","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pln","jsValue":"pln_"},{"name":"value","value":"plnMove(ZY, [i * 100, 0, 0])","usedVars":["i"],"jsValue":"plnMove(JSON.parse(JSON.stringify(ZY)), [i_ * 100, 0, 0])"}],"variable":"pln","selectGeom":false},{"type":8,"ID":"prod-pob75ha7c7c","enabled":true,"print":false,"meta":{"module":"visualize","name":"Plane"},"argCount":4,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"__model__"},{"name":"planes","usedVars":["pln"],"value":"pln","jsValue":"pln_"},{"name":"scale","usedVars":[],"value":"300","jsValue":"300"}],"variable":"v","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3"},{"type":8,"ID":"prod-5tkuyuc1ra7","enabled":true,"print":false,"meta":{"module":"make","name":"Cut"},"argCount":5,"args":[{"name":"var_name","value":"cut_pgons","jsValue":"cut_pgons_"},{"name":"__model__"},{"name":"entities","value":"pgons_to_cut","usedVars":["pgons_to_cut"],"jsValue":"pgons_to_cut_"},{"name":"plane","value":"pln","usedVars":["pln"],"jsValue":"pln_"},{"name":"method","value":"'keep_both'","jsValue":"'keep_both'","usedVars":[]}],"variable":"cut_pgons","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","ID":"prod-b9qe17x5em","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"pgons_to_cut","jsValue":"pgons_to_cut_"},{"name":"value","value":"cut_pgons[1]","usedVars":["cut_pgons"],"jsValue":"cut_pgons_[pythonList(1, cut_pgons_.length)]"}],"variable":"pgons_to_cut","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","ID":"prod-dbnr4oy2vub","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"i == -5","usedVars":["i"],"jsValue":"i_ == -5"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":7,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3~children~5","ID":"prod-kc62h9y60la","enabled":true,"print":false,"argCount":0,"args":[]}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","ID":"prod-i0in3geneo","enabled":true,"print":false,"meta":{"module":"collection","name":"Create"},"argCount":4,"args":[{"name":"var_name","value":"coll_cell","jsValue":"coll_cell_"},{"name":"__model__"},{"name":"entities","value":"cut_pgons[0]","usedVars":["cut_pgons"],"jsValue":"cut_pgons_[pythonList(0, cut_pgons_.length)]"},{"name":"name","value":"\"cell_\" + counter","usedVars":["counter"],"jsValue":"\"cell_\" + counter_"}],"variable":"coll_cell","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","ID":"prod-n9klsehys9","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"counter","jsValue":"counter_"},{"name":"value","value":"counter + 1","usedVars":["counter"],"jsValue":"counter_ + 1"}],"variable":"counter","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9~children~3","ID":"prod-14kbq9z6ah3","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"cells","usedVars":["cells"],"jsValue":"cells_"},{"name":"item","value":"coll_cell","usedVars":["coll_cell"],"jsValue":"coll_cell_"},{"name":"method","value":"'to_end'","jsValue":"'to_end'","usedVars":[]}],"selectGeom":false}],"variable":"i","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~9"}],"variable":"slice_num"},{"type":14,"ID":"prod-n7ug0og06o9","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"clean up"}]},{"type":8,"ID":"prod-6rrgd5m6rs","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"cells","usedVars":["cells"],"jsValue":"cells_"},{"name":"method","value":"'keep_selected'","usedVars":[],"jsValue":"'keep_selected'"}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"split model","id":"node_ozdj3va7rn","position":{"x":5420,"y":5220},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":4,"ID":"prod-ygeqk6wribn","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"coll","jsValue":"coll_"},{"name":"list","value":"#co","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'co', null)"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~1","ID":"prod-txi5b1yxzz","enabled":true,"print":false,"meta":{"module":"calc","name":"BBox"},"argCount":3,"args":[{"name":"var_name","value":"bb","jsValue":"bb_"},{"name":"__model__"},{"name":"entities","value":"coll","usedVars":["coll"],"jsValue":"coll_"}],"variable":"bb"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode~procedure~1","ID":"prod-9ssh92y5yqw","enabled":true,"print":false,"meta":{"module":"modify","name":"Move"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"coll","usedVars":["coll"],"jsValue":"coll_"},{"name":"vectors","value":"vecMult(bb[0], 0.2)","usedVars":["bb"],"jsValue":"vecMult(bb_[pythonList(0, bb_.length)], 0.2)"}]}],"variable":"coll"}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false},{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"frontal area index","id":"node_gwgk6akbpxg","position":{"x":5280,"y":5360},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-cpthwrzdu7n","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"cells","jsValue":"cells_"},{"name":"value","value":"#co","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'co', null)"}],"variable":"cells"},{"type":14,"ID":"prod-pb5da74m2j","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"set the wind direction, assume 0 degrees means it is coming from west"}],"selectGeom":false},{"type":14,"ID":"prod-mxoj15851k","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"then we specify a rotation relative to west wind"}],"selectGeom":false},{"type":0,"ID":"prod-qgcg53l34z","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rand_seed","jsValue":"rand_seed_"},{"name":"value","value":"0.34","usedVars":[],"jsValue":"0.34"}],"variable":"rand_seed"},{"type":0,"ID":"prod-iit9jyzysar","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"@wind_direction","jsValue":"@wind_direction","usedVars":[]},{"name":"value","value":"degToRad(wind_direction)","usedVars":["wind_direction"],"jsValue":"degToRad(wind_direction_)"}],"variable":null},{"type":14,"ID":"prod-qfu5a4lgqec","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calc fai for on cell, for testing"}]},{"type":0,"ID":"prod-1olu67gbfey","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"i","jsValue":"i_"},{"name":"value","value":"30","usedVars":[],"jsValue":"30"}],"variable":"i"},{"type":8,"ID":"prod-ho02jhwd5ua","enabled":false,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"cells[i]","usedVars":["cells","i"],"jsValue":"cells_[pythonList(i_, cells_.length)]"},{"name":"method","value":"'keep_selected'","usedVars":[],"jsValue":"'keep_selected'"}]},{"type":18,"ID":"prod-02cp4jdqxpdv","enabled":false,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"fai","otherInfo":{}},"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"bldgs","value":"cells[i]","usedVars":["cells","i"],"jsValue":"cells_[pythonList(i_, cells_.length)]"},{"name":"wind_direction","value":"wind_direction","jsValue":"wind_direction_","usedVars":["wind_direction"]}],"variable":"result","selectGeom":false},{"type":14,"ID":"prod-draf8ojqrv","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calc fai for all cells"}]},{"type":4,"ID":"prod-cnhkvrul81u","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"cell","jsValue":"cell_"},{"name":"list","value":"cells","usedVars":["cells"],"jsValue":"cells_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~procedure~11","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~procedure~11","ID":"prod-18yhc2motdj","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"fai","otherInfo":{}},"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"bldgs","value":"cell","usedVars":["cell"],"jsValue":"cell_"},{"name":"wind_direction","value":"wind_direction","jsValue":"wind_direction_","usedVars":["wind_direction"]}],"variable":"result"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~procedure~11","ID":"prod-pfnij16a1o","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"cell@fai","jsValue":"cell_@fai","usedVars":["cell"]},{"name":"value","value":"result","usedVars":["result"],"jsValue":"result_"}],"variable":null}],"variable":"cell"},{"type":8,"ID":"prod-wuh44epd50j","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"cells","usedVars":["cells"],"jsValue":"cells_"},{"name":"attrib","value":"\"fai\"","usedVars":[],"jsValue":"\"fai\""},{"name":"range","value":"null","usedVars":[],"jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":16,"ID":"prod-t32mnu9xz1p","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"fai","num_returns":3,"collapsed":true}},"args":[{"name":"func_name","value":"fai","jsValue":"fai_"},{"name":"arg_1","value":"bldgs","jsValue":"bldgs_","usedVars":["bldgs"]},{"name":"arg_2","value":"wind_direction","jsValue":"wind_direction_","usedVars":["wind_direction"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-l6jv4m2i8nk","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"len(bldgs#pg ) == 0","usedVars":["bldgs"],"jsValue":"len( __modules__.query.Get(__params__.model, 'pg', bldgs_)) == 0"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~1","ID":"prod-2yw0ns7hq34","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"10","usedVars":[],"jsValue":"10"}],"selectGeom":false}]},{"type":8,"ID":"prod-omyej4ml0v","enabled":true,"print":false,"meta":{"module":"calc","name":"BBox"},"argCount":3,"args":[{"name":"var_name","value":"bb_bldgs","jsValue":"bb_bldgs_"},{"name":"__model__"},{"name":"entities","value":"bldgs","usedVars":["bldgs"],"jsValue":"bldgs_"}],"variable":"bb_bldgs","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-fyqmswm675w","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"bb_bldgs[2][2] == 0","usedVars":["bb_bldgs"],"jsValue":"bb_bldgs_[pythonList(2, bb_bldgs_.length)][pythonList(2, bb_bldgs_[pythonList(2, bb_bldgs_.length)].length)] == 0"}],"children":[{"type":13,"ID":"prod-hmds4qttx84","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~3","ID":"prod-hte17m4t5x","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"0","usedVars":[],"jsValue":"0"}],"selectGeom":false}],"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-tded4fle25","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"cen","jsValue":"cen_"},{"name":"value","value":"[bb_bldgs[0][0], bb_bldgs[0][1], 0]","usedVars":["bb_bldgs"],"jsValue":"[bb_bldgs_[pythonList(0, bb_bldgs_.length)][pythonList(0, bb_bldgs_[pythonList(0, bb_bldgs_.length)].length)], bb_bldgs_[pythonList(0, bb_bldgs_.length)][pythonList(1, bb_bldgs_[pythonList(0, bb_bldgs_.length)].length)], 0]"}],"variable":"cen"},{"type":14,"ID":"prod-38400an1k4x","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"we create a plane, where the X axis points in the wind direction"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-y7c94glp0d","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_pln","jsValue":"wind_pln_"},{"name":"value","value":"plnMake(cen, [1, 0, 0], [0, 1, 0])","usedVars":["cen"],"jsValue":"plnMake(cen_, [1, 0, 0], [0, 1, 0])"}],"variable":"wind_pln"},{"type":0,"ID":"prod-9eci3yyxjdb","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_pln","jsValue":"wind_pln_"},{"name":"value","value":"plnMove(wind_pln, [-150, 0, 0])","usedVars":["wind_pln"],"jsValue":"plnMove(wind_pln_, [-150, 0, 0])"}],"variable":"wind_pln","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"ID":"prod-qmvj07rr4k","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_pln","jsValue":"wind_pln_"},{"name":"value","value":"plnRot(wind_pln, [cen, [0, 0, 1]], wind_direction)","usedVars":["wind_direction","cen","wind_pln"],"jsValue":"plnRot(wind_pln_, [cen_, [0, 0, 1]], wind_direction_)"}],"variable":"wind_pln","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-6odstlt42u3","enabled":false,"print":false,"meta":{"module":"visualize","name":"Plane"},"argCount":4,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"__model__"},{"name":"planes","value":"wind_pln","usedVars":["wind_pln"],"jsValue":"wind_pln_"},{"name":"scale","value":"100","usedVars":[],"jsValue":"100"}],"variable":"v","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":14,"ID":"prod-yl22769vy2o","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calculate a grid that exactly centeretd on the building"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"ID":"prod-6dha46knzon","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_spacing","jsValue":"grid_spacing_"},{"name":"value","value":"5","usedVars":[],"jsValue":"5"}],"variable":"grid_spacing","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"ID":"prod-kcc6xps4i2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_height","jsValue":"grid_height_"},{"name":"value","usedVars":["bb_bldgs","grid_spacing"],"value":"bb_bldgs[3][2] - grid_spacing","jsValue":"bb_bldgs_[pythonList(3, bb_bldgs_.length)][pythonList(2, bb_bldgs_[pythonList(3, bb_bldgs_.length)].length)] - grid_spacing_"}],"variable":"grid_height","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-2ys1ew4aksa","enabled":true,"print":false,"meta":{"module":"poly2d","name":"ConvexHull"},"argCount":3,"args":[{"name":"var_name","value":"hull","jsValue":"hull_"},{"name":"__model__"},{"name":"entities","usedVars":["bldgs"],"value":"bldgs","jsValue":"bldgs_"}],"selectGeom":false,"variable":"hull","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-w95oxhe1oy","enabled":true,"print":false,"meta":{"module":"calc","name":"Area"},"argCount":3,"args":[{"name":"var_name","value":"ground_area","jsValue":"ground_area_"},{"name":"__model__"},{"name":"entities","value":"hull","usedVars":["hull"],"jsValue":"hull_"}],"variable":"ground_area","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":18,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-cairpzjuvvs","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"bbPln"},"args":[{"name":"var_name","value":"bb","jsValue":"bb_"},{"name":"entities","value":"hull","usedVars":["hull"],"jsValue":"hull_"},{"name":"pln","value":"wind_pln","usedVars":["wind_pln"],"jsValue":"wind_pln_"}],"variable":"bb"},{"type":0,"ID":"prod-jc3ybwe6tln","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_pln","jsValue":"grid_pln_"},{"name":"value","value":"plnLMove(plnLRotY(wind_pln, PI / 2), [-(grid_height / 2) - (grid_spacing / 2), bb[0][1], 0])","usedVars":["wind_pln","grid_spacing","grid_height","bb"],"jsValue":"plnLMove(plnLRotY(wind_pln_, JSON.parse(JSON.stringify(PI)) / 2), [-(grid_height_ / 2) - (grid_spacing_ / 2), bb_[pythonList(0, bb_.length)][pythonList(1, bb_[pythonList(0, bb_.length)].length)], 0])"}],"variable":"grid_pln","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-fdrwp6tkib7","enabled":false,"print":false,"meta":{"module":"visualize","name":"Plane"},"argCount":4,"args":[{"name":"var_name","value":"vis","jsValue":"vis_"},{"name":"__model__"},{"name":"planes","value":"grid_pln","usedVars":["grid_pln"],"jsValue":"grid_pln_"},{"name":"scale","value":"100","usedVars":[],"jsValue":"100"}],"variable":"vis","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":14,"ID":"prod-0tjl5t6ih6h","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"generate the grid"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"ID":"prod-bru9dw6hd18","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_width","jsValue":"grid_width_"},{"name":"value","usedVars":["grid_spacing","bb"],"value":"bb[3][1] - grid_spacing","jsValue":"bb_[pythonList(3, bb_.length)][pythonList(1, bb_[pythonList(3, bb_.length)].length)] - grid_spacing_"}],"selectGeom":false,"variable":"grid_width","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-bzday49zosr","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"rays_grid","jsValue":"rays_grid_"},{"name":"__model__"},{"name":"origin","value":"grid_pln","usedVars":["grid_pln"],"jsValue":"grid_pln_"},{"name":"size","value":"[grid_height, grid_width]","usedVars":["grid_height","grid_width"],"jsValue":"[grid_height_, grid_width_]"},{"name":"num_positions","value":"[round(grid_height / grid_spacing), round(grid_width / grid_spacing)]","usedVars":["grid_spacing","grid_height","grid_width"],"jsValue":"[round(grid_height_ / grid_spacing_), round(grid_width_ / grid_spacing_)]"},{"name":"method","value":"'flat'","usedVars":[],"jsValue":"'flat'"}],"variable":"rays_grid","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-ei1gohkmsvi","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"rays","jsValue":"rays_"},{"name":"value","value":"rayMake(rays_grid@xyz , vecSetLen(vecCross(grid_pln[1], grid_pln[2]), 20))","usedVars":["grid_pln","rays_grid"],"jsValue":"rayMake( __modules__.attrib.Get(__params__.model, rays_grid_, 'xyz'), vecSetLen(vecCross(grid_pln_[pythonList(1, grid_pln_.length)], grid_pln_[pythonList(2, grid_pln_.length)]), 20))"}],"variable":"rays","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-go2upb0tfak","enabled":false,"print":false,"meta":{"module":"make","name":"Point"},"argCount":3,"args":[{"name":"var_name","value":"vis_points","jsValue":"vis_points_"},{"name":"__model__"},{"name":"entities","value":"rays_grid","usedVars":["rays_grid"],"jsValue":"rays_grid_"}],"variable":"vis_points"},{"type":8,"ID":"prod-u9d1dpjmooh","enabled":false,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"vis","jsValue":"vis_"},{"name":"__model__"},{"name":"rays","usedVars":["rays"],"value":"rays","jsValue":"rays_"},{"name":"scale","usedVars":[],"value":"2","jsValue":"2"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","variable":"vis"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-o9tv1jf56jo","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calculate the area of one ray"}]},{"type":0,"ID":"prod-pdmbrx74v3","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray_area","jsValue":"ray_area_"},{"name":"value","usedVars":["grid_height","grid_width","rays"],"value":"(grid_height * grid_width) / len(rays)","jsValue":"(grid_height_ * grid_width_) / len(rays_)"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","variable":"ray_area"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-2l52uhd8pf9","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"clean up"}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-822k0tx8u77","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"hull","usedVars":["hull"],"jsValue":"hull_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}]},{"type":14,"ID":"prod-tnrzj5lqgvh","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calc fai"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-80uws5k55wm","enabled":true,"print":false,"meta":{"module":"analyze","name":"Raytrace"},"argCount":6,"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"__model__"},{"name":"rays","value":"rays","usedVars":["rays"],"jsValue":"rays_"},{"name":"entities","value":"bldgs","usedVars":["bldgs"],"jsValue":"bldgs_"},{"name":"dist","value":"10000","usedVars":[],"jsValue":"10000"},{"name":"method","value":"'stats'","jsValue":"'stats'","usedVars":[]}],"variable":"result","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":0,"ID":"prod-6yoxc4h1uo2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"frontal_area_index","jsValue":"frontal_area_index_"},{"name":"value","value":"(result['hit_count'] * ray_area) / ground_area","usedVars":["ground_area","ray_area","result"],"jsValue":"(result_['hit_count'] * ray_area_) / ground_area_"}],"variable":"frontal_area_index","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-jryoku4pvs","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"visualize rays hitting geometry"}]},{"type":4,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-0y7kjoyyzji","enabled":false,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(len(rays_grid))","usedVars":["rays_grid"],"jsValue":"range(len(rays_grid_))"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~32","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~32","ID":"prod-e9tdfsg0dc","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"result['hit_pgons'][i] != null","usedVars":["result","i"],"jsValue":"result_['hit_pgons'][pythonList(i_, result_['hit_pgons'].length)] != null"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~32~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~32~children~1","ID":"prod-665fdp9o92y","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"posi","jsValue":"posi_"},{"name":"__model__"},{"name":"coords","value":"result['intersections'][i]","usedVars":["result","i"],"jsValue":"result_['intersections'][pythonList(i_, result_['intersections'].length)]"}],"variable":"posi"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1~children~32~children~1","ID":"prod-45gkj9psijc","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pl","jsValue":"pl_"},{"name":"__model__"},{"name":"entities","value":"[rays_grid[i], posi]","usedVars":["posi","rays_grid","i"],"jsValue":"[rays_grid_[pythonList(i_, rays_grid_.length)], posi_]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"pl"}]}],"variable":"i"},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~1","ID":"prod-lzffif25vtk","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"frontal_area_index","usedVars":["frontal_area_index"],"jsValue":"frontal_area_index_"}]}],"variable":null},{"type":16,"ID":"prod-v06c0jpym4","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"bbPln","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"bbPln","jsValue":"bbPln_"},{"name":"arg_1","value":"entities","jsValue":"entities_","usedVars":["entities"]},{"name":"arg_2","value":"pln","jsValue":"pln_","usedVars":["pln"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2","ID":"prod-gois2bp0s3p","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"function to generate a bounding box around any geometry"}]},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2","ID":"prod-xm1xnp6gzpd","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"the bounding box will be aligned with teh plane"}]},{"type":0,"ID":"prod-nstlzbhehe","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"tmp_xyzs","jsValue":"tmp_xyzs_"},{"name":"value","value":"vecLtoG(entities#ps @xyz , pln)","usedVars":["entities","pln"],"jsValue":"vecLtoG( __modules__.attrib.Get(__params__.model,  __modules__.query.Get(__params__.model, 'ps', entities_), 'xyz'), pln_)"}],"variable":"tmp_xyzs","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2"},{"type":8,"ID":"prod-574nzvhm1nd","enabled":true,"print":false,"meta":{"module":"make","name":"Position"},"argCount":3,"args":[{"name":"var_name","value":"tmp_posis","jsValue":"tmp_posis_"},{"name":"__model__"},{"name":"coords","value":"tmp_xyzs","usedVars":["tmp_xyzs"],"jsValue":"tmp_xyzs_"}],"variable":"tmp_posis","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2"},{"type":8,"ID":"prod-0omnb3cnqtnl","enabled":true,"print":false,"meta":{"module":"calc","name":"BBox"},"argCount":3,"args":[{"name":"var_name","value":"bb","jsValue":"bb_"},{"name":"__model__"},{"name":"entities","value":"tmp_posis","usedVars":["tmp_posis"],"jsValue":"tmp_posis_"}],"variable":"bb","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2"},{"type":8,"ID":"prod-pkx593udydk","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"tmp_posis","usedVars":["tmp_posis"],"jsValue":"tmp_posis_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2","ID":"prod-ict82re7wni","enabled":false,"print":false,"meta":{"module":"visualize","name":"BBox"},"argCount":3,"args":[{"name":"var_name","value":"vis","jsValue":"vis_"},{"name":"__model__"},{"name":"bboxes","value":"bb","usedVars":["bb"],"jsValue":"bb_"}],"variable":"vis"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2","ID":"prod-na51fpi0u2i","enabled":false,"print":false,"meta":{"module":"modify","name":"XForm"},"argCount":5,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"vis","usedVars":["vis"],"jsValue":"vis_"},{"name":"from_plane","value":"XY","usedVars":[],"jsValue":"JSON.parse(JSON.stringify(XY))"},{"name":"to_plane","value":"pln","usedVars":["pln"],"jsValue":"pln_"}]},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~localFunc~2","ID":"prod-13kkl2wzhpa","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"bb","usedVars":["bb"],"jsValue":"bb_"}]}],"variable":null}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"wind flow analysis","id":"node_m6n4gpfgrye","position":{"x":5280,"y":5500},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-369zx1aq6pp","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"colls","jsValue":"colls_"},{"name":"value","value":"#co","usedVars":[],"jsValue":"__modules__.query.Get(__params__.model, 'co', null)"}],"variable":"colls","selectGeom":false},{"type":14,"ID":"prod-cbrv46n8894","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create a wind arrow"}]},{"type":18,"ID":"prod-qz1rxwzn17a","enabled":true,"print":false,"argCount":1,"meta":{"module":"localFunc","name":"windArrow"},"args":[{"name":"__none__"}],"selectGeom":false},{"type":14,"ID":"prod-59jckj8mj6h","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"flatten the model"}],"selectGeom":false},{"type":0,"ID":"prod-wu8ps324oj","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_height","jsValue":"grid_height_"},{"name":"value","value":"120","usedVars":[],"jsValue":"120"}],"variable":"grid_height","selectGeom":false},{"type":1,"ID":"prod-g2952rcnhut","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"flatten_model","usedVars":["flatten_model"],"jsValue":"flatten_model_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-qojhfqf5vei","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid_height","jsValue":"grid_height_"},{"name":"value","value":"1","usedVars":[],"jsValue":"1"}],"variable":"grid_height","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6"},{"type":4,"ID":"prod-0rxz7pyr173a","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"colls#ps","usedVars":["colls"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', colls_)"}],"children":[{"type":13,"ID":"prod-e7p7cfrtobs","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6~children~2","ID":"prod-pulota68bf","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posi@xyz[2]","jsValue":"posi_@xyz[pythonList(2, xyz.length)]","usedVars":["posi"]},{"name":"value","value":"0","usedVars":[],"jsValue":"0"}],"variable":null,"selectGeom":false}],"variable":"posi","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~6"}]},{"type":14,"ID":"prod-94yepvxhn0v","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create the  grid of positions that will be used for the network"}]},{"type":8,"ID":"prod-h9abee2ryl","enabled":true,"print":false,"meta":{"module":"pattern","name":"Grid"},"argCount":6,"args":[{"name":"var_name","value":"grid","jsValue":"grid_"},{"name":"__model__"},{"name":"origin","value":"[-50, -50, grid_height]","usedVars":["grid_height"],"jsValue":"[-50, -50, grid_height_]"},{"name":"size","value":"800","usedVars":[],"jsValue":"800"},{"name":"num_positions","value":"9","usedVars":[],"jsValue":"9"},{"name":"method","value":"'flat'","usedVars":[],"jsValue":"'flat'"}],"variable":"grid","selectGeom":false},{"type":14,"ID":"prod-ejqe25dvs1a","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create network"}]},{"type":18,"ID":"prod-89dyr5yem73","enabled":true,"print":false,"argCount":4,"meta":{"module":"localFunc","name":"createNetwork","otherInfo":{}},"args":[{"name":"var_name","value":"network","jsValue":"network_"},{"name":"grid","usedVars":["grid"],"value":"grid","jsValue":"grid_"},{"name":"cells","value":"colls","jsValue":"colls_","usedVars":["colls"]},{"name":"xy_num","value":"[9, 9]","jsValue":"[9, 9]","usedVars":[]}],"selectGeom":false,"variable":"network"},{"type":18,"ID":"prod-e2831uhqr7i","enabled":true,"print":false,"argCount":2,"meta":{"module":"localFunc","name":"getSourceTraget"},"args":[{"name":"var_name","value":"source_target","jsValue":"source_target_"},{"name":"network","value":"network","usedVars":["network"],"jsValue":"network_"}],"variable":"source_target","selectGeom":false},{"type":0,"ID":"prod-ua70gaqshv","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"sources","jsValue":"sources_"},{"name":"value","value":"source_target[0]","usedVars":["source_target"],"jsValue":"source_target_[pythonList(0, source_target_.length)]"}],"variable":"sources"},{"type":0,"ID":"prod-7o7m29bb8uk","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"targets","jsValue":"targets_"},{"name":"value","value":"source_target[1]","usedVars":["source_target"],"jsValue":"source_target_[pythonList(1, source_target_.length)]"}],"variable":"targets"},{"type":18,"ID":"prod-unoa4aqsbxg","enabled":true,"print":false,"argCount":3,"meta":{"module":"localFunc","name":"sourceAndTragetArrows"},"args":[{"name":"__none__"},{"name":"sources","usedVars":["sources"],"value":"sources","jsValue":"sources_"},{"name":"targets","usedVars":["targets"],"value":"targets","jsValue":"targets_"}],"selectGeom":false},{"type":14,"ID":"prod-it3qsx0dfml","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calculate paths"}]},{"type":8,"ID":"prod-id4js7289j","enabled":true,"print":false,"meta":{"module":"analyze","name":"ShortestPath"},"argCount":7,"args":[{"name":"var_name","value":"result","jsValue":"result_"},{"name":"__model__"},{"name":"source","value":"sources","usedVars":["sources"],"jsValue":"sources_"},{"name":"target","value":"targets","usedVars":["targets"],"jsValue":"targets_"},{"name":"entities","value":"network","usedVars":["network"],"jsValue":"network_"},{"name":"method","value":"'undirected'","jsValue":"'undirected'","usedVars":[]},{"name":"result","value":"'counts'","jsValue":"'counts'","usedVars":[]}],"variable":"result","selectGeom":false},{"type":8,"ID":"prod-wvcraizyld","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['edges']","usedVars":["result"],"jsValue":"result_['edges']"},{"name":"attrib","value":"\"wind_path\"","usedVars":[],"jsValue":"\"wind_path\""},{"name":"value","value":"result[\"edges_count\"]","usedVars":["result"],"jsValue":"result_[\"edges_count\"]"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":8,"ID":"prod-ohiui2hcafp","enabled":true,"print":false,"meta":{"module":"attrib","name":"Set"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"result['posis']","usedVars":["result"],"jsValue":"result_['posis']"},{"name":"attrib","value":"\"wind_path\"","usedVars":[],"jsValue":"\"wind_path\""},{"name":"value","value":"result[\"posis_count\"]","usedVars":["result"],"jsValue":"result_[\"posis_count\"]"},{"name":"method","value":"'many_values'","jsValue":"'many_values'","usedVars":[]}],"selectGeom":false},{"type":14,"ID":"prod-5cbgo63nmsm","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"visualize posi fai"}],"selectGeom":false},{"type":1,"ID":"prod-n37k356864","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"vis_posi_fai","usedVars":["vis_posi_fai"],"jsValue":"vis_posi_fai_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-e6289psrhw","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"vis_cell_fai","jsValue":"vis_cell_fai_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"vis_cell_fai","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20"},{"type":4,"ID":"prod-ogk8yyaayqa","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"network#ps","usedVars":["network"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', network_)"}],"children":[{"type":13,"ID":"prod-jzz39opyl3s","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20~children~2","ID":"prod-q6zqnugdnd","enabled":true,"print":false,"meta":{"module":"pattern","name":"Arc"},"argCount":6,"args":[{"name":"var_name","value":"cir","jsValue":"cir_"},{"name":"__model__"},{"name":"origin","value":"posi@xyz","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'xyz')"},{"name":"radius","value":"10","usedVars":[],"jsValue":"10"},{"name":"num_positions","value":"12","usedVars":[],"jsValue":"12"},{"name":"arc_angle","value":"null","usedVars":[],"jsValue":"null"}],"variable":"cir","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20~children~2","ID":"prod-ae94jzg9xxk","enabled":true,"print":false,"meta":{"module":"make","name":"Polygon"},"argCount":3,"args":[{"name":"var_name","value":"pg","jsValue":"pg_"},{"name":"__model__"},{"name":"entities","value":"cir","usedVars":["cir"],"jsValue":"cir_"}],"variable":"pg","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20~children~2","ID":"prod-gstpldxjyxa","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"pg","usedVars":["pg"],"jsValue":"pg_"},{"name":"dist","value":"posi@fai * 100","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'fai')* 100"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20~children~2","ID":"prod-25yas930fbd","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex@fai","jsValue":"ex_@fai","usedVars":["ex"]},{"name":"value","value":"posi@fai","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'fai')"}],"variable":null,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20~children~2","ID":"prod-i9olqzt0v28","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"vis_cell_fai","usedVars":["vis_cell_fai"],"jsValue":"vis_cell_fai_"},{"name":"item","value":"ex","usedVars":["ex"],"jsValue":"ex_"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}],"selectGeom":false}],"variable":"posi","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20"},{"type":8,"ID":"prod-ivnhstlw4","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","usedVars":["vis_cell_fai"],"value":"vis_cell_fai","jsValue":"vis_cell_fai_"},{"name":"attrib","usedVars":[],"value":"\"fai\"","jsValue":"\"fai\""},{"name":"range","usedVars":[],"value":"null","jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~20"}]},{"type":14,"ID":"prod-ky0j4l0k90e","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"visualize edge fai"}],"selectGeom":false},{"type":1,"ID":"prod-mmtok6y6jue","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"vis_edge_fai","usedVars":["vis_edge_fai"],"jsValue":"vis_edge_fai_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-59nu8jxgr7s","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"vis_edge_weights","jsValue":"vis_edge_weights_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"vis_edge_weights","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22"},{"type":4,"ID":"prod-t5fihco6bx","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"network#_e","usedVars":["network"],"jsValue":"__modules__.query.Get(__params__.model, '_e', network_)"}],"children":[{"type":13,"ID":"prod-fsxjeyoiqcl","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22~children~2","ID":"prod-siyu2m3zww9","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"dist","value":"edge@weight * 100","usedVars":["edge"],"jsValue":"__modules__.attrib.Get(__params__.model, edge_, 'weight')* 100"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22~children~2","ID":"prod-pcshnxlilt","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex@weight","jsValue":"ex_@weight","usedVars":["ex"]},{"name":"value","value":"edge@weight","usedVars":["edge"],"jsValue":"__modules__.attrib.Get(__params__.model, edge_, 'weight')"}],"variable":null,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22~children~2","ID":"prod-0t0i3uducuz","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"vis_edge_weights","usedVars":["vis_edge_weights"],"jsValue":"vis_edge_weights_"},{"name":"item","value":"ex","usedVars":["ex"],"jsValue":"ex_"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}],"selectGeom":false}],"variable":"edge","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22"},{"type":8,"ID":"prod-3g16v7qbuyk","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","usedVars":["vis_edge_weights"],"value":"vis_edge_weights","jsValue":"vis_edge_weights_"},{"name":"attrib","usedVars":[],"value":"\"weight\"","jsValue":"\"weight\""},{"name":"range","usedVars":[],"value":"null","jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~22"}]},{"type":14,"ID":"prod-96skfp5hyr","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"visualize the wind paths"}],"selectGeom":false},{"type":1,"ID":"prod-qg2s5utdms","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"vis_ventilation_paths","usedVars":["vis_ventilation_paths"],"jsValue":"vis_ventilation_paths_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-4r45mmjkdjv","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"vis_wind_path","jsValue":"vis_wind_path_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"vis_wind_path","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24"},{"type":4,"ID":"prod-1km6v143bmxj","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"result['edges']","usedVars":["result"],"jsValue":"result_['edges']"}],"children":[{"type":13,"ID":"prod-ebp90bty2xe","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~2","ID":"prod-szwyffpku2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wp","jsValue":"wp_"},{"name":"value","value":"edge@wind_path","usedVars":["edge"],"jsValue":"__modules__.attrib.Get(__params__.model, edge_, 'wind_path')"}],"variable":"wp","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~2","ID":"prod-3xfm2pi113","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"dist","value":"wp","usedVars":["wp"],"jsValue":"wp_"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~2","ID":"prod-ag6mlqb2jwd","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ex@wind_path","jsValue":"ex_@wind_path","usedVars":["ex"]},{"name":"value","value":"wp","usedVars":["wp"],"jsValue":"wp_"}],"variable":null,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24~children~2","ID":"prod-rl9oltsfl0d","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"vis_wind_path","usedVars":["vis_wind_path"],"jsValue":"vis_wind_path_"},{"name":"item","value":"ex","usedVars":["ex"],"jsValue":"ex_"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}],"selectGeom":false}],"variable":"edge","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24"},{"type":8,"ID":"prod-vum09pmlth","enabled":true,"print":false,"meta":{"module":"visualize","name":"Gradient"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","usedVars":["vis_wind_path"],"value":"vis_wind_path","jsValue":"vis_wind_path_"},{"name":"attrib","usedVars":[],"value":"\"wind_path\"","jsValue":"\"wind_path\""},{"name":"range","usedVars":[],"value":"null","jsValue":"null"},{"name":"method","value":"'false_color'","jsValue":"'false_color'","usedVars":[]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~24"}]},{"type":1,"ID":"prod-u8p91lafgtj","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"delete_model","usedVars":["delete_model"],"jsValue":"delete_model_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~25","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-xeonl7b7qg","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"colls","usedVars":["colls"],"jsValue":"colls_"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~procedure~25"}]}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":16,"ID":"prod-p8s4w9skmp","enabled":true,"print":false,"argCount":4,"meta":{"module":"","name":"","otherInfo":{"prev_name":"createNetwork","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"createNetwork","jsValue":"createNetwork_"},{"name":"arg_1","value":"grid","jsValue":"grid_","usedVars":["grid"]},{"name":"arg_2","value":"cells","jsValue":"cells_","usedVars":["cells"]},{"name":"arg_3","value":"xy_num","jsValue":"xy_num_","usedVars":["xy_num"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-dwfz9z0fha7","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"xnum","jsValue":"xnum_"},{"name":"value","value":"xy_num[0]","usedVars":["xy_num"],"jsValue":"xy_num_[pythonList(0, xy_num_.length)]"}],"variable":"xnum"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-08gti7wl0isx","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ynum","jsValue":"ynum_"},{"name":"value","value":"xy_num[1]","usedVars":["xy_num"],"jsValue":"xy_num_[pythonList(1, xy_num_.length)]"}],"variable":"ynum","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-bsnpmj9ujj","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"plines","jsValue":"plines_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"plines"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-rn1fh5pvwv","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"generate the grid, each position in the grid is at the centre of a cell"}]},{"type":4,"ID":"prod-aempzapjbvk","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(0, xnum - 1)","usedVars":["xnum"],"jsValue":"range(0, xnum_ - 1)"}],"children":[{"type":13,"ID":"prod-nscjui5olp","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":4,"ID":"prod-02k28dga29bi","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"j","jsValue":"j_"},{"name":"list","value":"range(0, ynum - 1)","usedVars":["ynum"],"jsValue":"range(0, ynum_ - 1)"}],"children":[{"type":13,"ID":"prod-v0tpowqvq8o","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","ID":"prod-clcdwexf63","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"index0","jsValue":"index0_"},{"name":"value","value":"(i * xnum) + j","usedVars":["j","xnum","i"],"jsValue":"(i_ * xnum_) + j_"}],"variable":"index0","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","ID":"prod-jdtucuouji","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"index1","jsValue":"index1_"},{"name":"value","value":"index0 + 1","usedVars":["index0"],"jsValue":"index0_ + 1"}],"variable":"index1","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","ID":"prod-nuo4e6w6os","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"index2","jsValue":"index2_"},{"name":"value","value":"index1 + xnum","usedVars":["index1","xnum"],"jsValue":"index1_ + xnum_"}],"variable":"index2","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","ID":"prod-q67djrxiui","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"index3","jsValue":"index3_"},{"name":"value","value":"index2 - 1","usedVars":["index2"],"jsValue":"index2_ - 1"}],"variable":"index3","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","ID":"prod-z7df95oq32a","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pline","jsValue":"pline_"},{"name":"__model__"},{"name":"entities","value":"listGet(grid, [index0, index1, index2, index3])","usedVars":["index0","index1","index2","index3","grid"],"jsValue":"listGet(grid_, [index0_, index1_, index2_, index3_])"},{"name":"close","value":"'close'","jsValue":"'close'","usedVars":[]}],"variable":"pline","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5~children~1","ID":"prod-5d9iiradgyn","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"plines","usedVars":["plines"],"jsValue":"plines_"},{"name":"item","value":"pline","usedVars":["pline"],"jsValue":"pline_"},{"name":"method","value":"'to_end'","jsValue":"'to_end'","usedVars":[]}],"selectGeom":false}],"variable":"j","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~5"}],"variable":"i","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-rc6y3w2jdc","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"get the fai values from the cell collections"}]},{"type":4,"ID":"prod-98zb1y75mh","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"i","jsValue":"i_"},{"name":"list","value":"range(len(grid))","usedVars":["grid"],"jsValue":"range(len(grid_))"}],"children":[{"type":13,"ID":"prod-ulcmggxzts","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~7","ID":"prod-76jdvsqkoq9","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"grid[i]@fai","jsValue":"grid_[pythonList(i_, grid_.length)]@fai","usedVars":["i","grid"]},{"name":"value","value":"cells[i]@fai","usedVars":["i","cells"],"jsValue":"__modules__.attrib.Get(__params__.model, cells_[pythonList(i_, cells_.length)], 'fai')"}],"variable":null,"selectGeom":false}],"variable":"i","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-bea7t1tlgj","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"calc perimeter normals"}]},{"type":8,"ID":"prod-kgi113znwb","enabled":true,"print":false,"meta":{"module":"query","name":"Perimeter"},"argCount":4,"args":[{"name":"var_name","value":"per_edges","jsValue":"per_edges_"},{"name":"__model__"},{"name":"ent_type","value":"'_e'","jsValue":"'_e'","usedVars":[]},{"name":"entities","value":"plines","usedVars":["plines"],"jsValue":"plines_"}],"variable":"per_edges","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-942uc7vax2h","enabled":true,"print":false,"meta":{"module":"query","name":"Perimeter"},"argCount":4,"args":[{"name":"var_name","value":"per_posis","jsValue":"per_posis_"},{"name":"__model__"},{"name":"ent_type","value":"'ps'","jsValue":"'ps'","usedVars":[]},{"name":"entities","value":"plines","usedVars":["plines"],"jsValue":"plines_"}],"variable":"per_posis","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-tnjp9ltcm8q","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"per_posis@type","jsValue":"per_posis_@type","usedVars":["per_posis"]},{"name":"value","value":"\"perimeter\"","usedVars":[],"jsValue":"\"perimeter\""}],"variable":null,"selectGeom":false},{"type":4,"ID":"prod-ch93r1zcvxb","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"edge","jsValue":"edge_"},{"name":"list","value":"per_edges","usedVars":["per_edges"],"jsValue":"per_edges_"}],"children":[{"type":13,"ID":"prod-1iz2kru6ciu","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","ID":"prod-j5a4nhbeo1m","enabled":true,"print":false,"meta":{"module":"calc","name":"Centroid"},"argCount":4,"args":[{"name":"var_name","value":"edge_cen","jsValue":"edge_cen_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"},{"name":"method","value":"'ps_average'","usedVars":[],"jsValue":"'ps_average'"}],"variable":"edge_cen","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","ID":"prod-b33oxt1bggs","enabled":true,"print":false,"meta":{"module":"calc","name":"Vector"},"argCount":3,"args":[{"name":"var_name","value":"edge_vec","jsValue":"edge_vec_"},{"name":"__model__"},{"name":"entities","value":"edge","usedVars":["edge"],"jsValue":"edge_"}],"variable":"edge_vec","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","ID":"prod-9avrlzqlb9","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edge_normal","jsValue":"edge_normal_"},{"name":"value","value":"vecNorm([edge_vec[1], -edge_vec[0], 0])","usedVars":["edge_vec"],"jsValue":"vecNorm([edge_vec_[pythonList(1, edge_vec_.length)], -edge_vec_[pythonList(0, edge_vec_.length)], 0])"}],"variable":"edge_normal","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","ID":"prod-6r8izs2odq6","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray","jsValue":"ray_"},{"name":"value","value":"[edge_cen, edge_normal]","usedVars":["edge_cen","edge_normal"],"jsValue":"[edge_cen_, edge_normal_]"}],"variable":"ray","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","ID":"prod-idak7w4ykyi","enabled":false,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"__model__"},{"name":"rays","value":"ray","usedVars":["ray"],"jsValue":"ray_"},{"name":"scale","value":"5","usedVars":[],"jsValue":"5"}],"variable":"v","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~12","ID":"prod-jzkiv2wp0rl","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"edge@normal","jsValue":"edge_@normal","usedVars":["edge"]},{"name":"value","value":"edge_normal","usedVars":["edge_normal"],"jsValue":"edge_normal_"}],"variable":null,"selectGeom":false}],"variable":"edge","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":8,"ID":"prod-lvw7y5qdscr","enabled":true,"print":false,"meta":{"module":"attrib","name":"Push"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"per_edges","usedVars":["per_edges"],"jsValue":"per_edges_"},{"name":"attrib","value":"\"normal\"","usedVars":[],"jsValue":"\"normal\""},{"name":"ent_type_sel","value":"'ps'","jsValue":"'ps'","usedVars":[]},{"name":"method_sel","value":"'average'","jsValue":"'average'","usedVars":[]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-8cntpi4xq0i","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"add diagonals"}]},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-9ron5s3hj2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"diagonals","jsValue":"diagonals_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"diagonals"},{"type":4,"ID":"prod-ol3ihazteoi","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"pline","jsValue":"pline_"},{"name":"list","value":"plines","usedVars":["plines"],"jsValue":"plines_"}],"children":[{"type":13,"ID":"prod-k2dh680jirg","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16","ID":"prod-48t16t9lxra","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"len(pline#_v ) == 4","usedVars":["pline"],"jsValue":"len( __modules__.query.Get(__params__.model, '_v', pline_)) == 4"}],"children":[{"type":13,"ID":"prod-11e7rn2cr4kj","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16~children~1","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16~children~1","ID":"prod-rw7tg7ifob","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"posis","jsValue":"posis_"},{"name":"value","value":"pline#ps","usedVars":["pline"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', pline_)"}],"variable":"posis"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16~children~1","ID":"prod-mnnma4zxh1","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"diag0","jsValue":"diag0_"},{"name":"__model__"},{"name":"entities","value":"[posis[0], posis[2]]","usedVars":["posis"],"jsValue":"[posis_[pythonList(0, posis_.length)], posis_[pythonList(2, posis_.length)]]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"diag0"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16~children~1","ID":"prod-7mcah590uom","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"diag1","jsValue":"diag1_"},{"name":"__model__"},{"name":"entities","value":"[posis[1], posis[3]]","usedVars":["posis"],"jsValue":"[posis_[pythonList(1, posis_.length)], posis_[pythonList(3, posis_.length)]]"},{"name":"close","value":"'open'","jsValue":"'open'","usedVars":[]}],"variable":"diag1","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1~children~16~children~1","ID":"prod-r05gyun7cj","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"diagonals","usedVars":["diagonals"],"jsValue":"diagonals_"},{"name":"item","value":"[diag0, diag1]","usedVars":["diag0","diag1"],"jsValue":"[diag0_, diag1_]"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}]}],"selectGeom":false}],"variable":"pline","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-cqex93b06rt","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"plines","usedVars":["plines"],"jsValue":"plines_"},{"name":"item","value":"diagonals","usedVars":["diagonals"],"jsValue":"diagonals_"},{"name":"method","value":"'extend_end'","jsValue":"'extend_end'","usedVars":[]}],"selectGeom":false},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-qtse45edmv","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create weights on edges"}]},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-1lwtoq13n4i","enabled":true,"print":false,"meta":{"module":"attrib","name":"Push"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"plines#ps","usedVars":["plines"],"jsValue":"__modules__.query.Get(__params__.model, 'ps', plines_)"},{"name":"attrib","value":"[\"fai\", null, \"weight\"]","usedVars":[],"jsValue":"[\"fai\", null, \"weight\"]"},{"name":"ent_type_sel","value":"'_e'","jsValue":"'_e'","usedVars":[]},{"name":"method_sel","value":"'average'","jsValue":"'average'","usedVars":[]}]},{"type":14,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-f6lbdc2lyv8","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"return the network"}]},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~1","ID":"prod-snizpphcuos","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"plines","usedVars":["plines"],"jsValue":"plines_"}]}],"variable":null},{"type":16,"ID":"prod-efc8goskrua","enabled":true,"print":false,"argCount":2,"meta":{"module":"","name":"","otherInfo":{"prev_name":"getSourceTraget","num_returns":1,"collapsed":true}},"args":[{"name":"func_name","value":"getSourceTraget","jsValue":"getSourceTraget_"},{"name":"arg_1","value":"network","jsValue":"network_","usedVars":["network"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-rvmqs7ojywm","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"east_ray","jsValue":"east_ray_"},{"name":"value","value":"[[0, 0, 0], [1, 0, 0]]","usedVars":[],"jsValue":"[[0, 0, 0], [1, 0, 0]]"}],"variable":"east_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":0,"ID":"prod-wg1702lu6ar","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"up_ray","jsValue":"up_ray_"},{"name":"value","value":"[[0, 0, 0], [0, 0, 1]]","usedVars":[],"jsValue":"[[0, 0, 0], [0, 0, 1]]"}],"variable":"up_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":0,"ID":"prod-clirmayk36","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_ray","jsValue":"wind_ray_"},{"name":"value","value":"rayRot(east_ray, up_ray, @wind_direction )","usedVars":["east_ray","up_ray"],"jsValue":"rayRot(east_ray_, up_ray_,  __modules__.attrib.Get(__params__.model, null, 'wind_direction'))"}],"variable":"wind_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":0,"ID":"prod-mjkfbd0bce","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_vec","jsValue":"wind_vec_"},{"name":"value","value":"wind_ray[1]","usedVars":["wind_ray"],"jsValue":"wind_ray_[pythonList(1, wind_ray_.length)]"}],"variable":"wind_vec","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":0,"ID":"prod-p6t7dbq097e","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"source","jsValue":"source_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"source","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":0,"ID":"prod-htx7svpw90q","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"target","jsValue":"target_"},{"name":"value","value":"[]","usedVars":[],"jsValue":"[]"}],"variable":"target","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":4,"ID":"prod-128fy63as1c","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"posi","jsValue":"posi_"},{"name":"list","value":"network#ps ?@type==\"perimeter\"","usedVars":["network"],"jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'ps', network_), ['type', null], '==', \"perimeter\")"}],"children":[{"type":13,"ID":"prod-uzesfw088fi","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7","ID":"prod-0eae7m3olu2","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"normal","jsValue":"normal_"},{"name":"value","value":"posi@normal","usedVars":["posi"],"jsValue":"__modules__.attrib.Get(__params__.model, posi_, 'normal')"}],"variable":"normal","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7","ID":"prod-9dgyta5h4z4","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"dot","jsValue":"dot_"},{"name":"value","value":"vecDot(wind_vec, posi@normal )","usedVars":["wind_vec","posi"],"jsValue":"vecDot(wind_vec_,  __modules__.attrib.Get(__params__.model, posi_, 'normal'))"}],"variable":"dot","selectGeom":false},{"type":1,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7","ID":"prod-msbtp0rbeea","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"dot < -0.2","usedVars":["dot"],"jsValue":"dot_ < -0.2"}],"children":[{"type":13,"ID":"prod-96m69s2u478","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7~children~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-4gjrp8zgeyd","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"source","usedVars":["source"],"jsValue":"source_"},{"name":"item","value":"posi","usedVars":["posi"],"jsValue":"posi_"},{"name":"method","value":"'to_end'","jsValue":"'to_end'","usedVars":[]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7~children~3"}],"selectGeom":false},{"type":2,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7","ID":"prod-30eh2irigmy","enabled":true,"print":false,"argCount":1,"args":[{"name":"condition","value":"dot > 0.2","usedVars":["dot"],"jsValue":"dot_ > 0.2"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7~children~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":8,"ID":"prod-fzwm4yfnzab","enabled":true,"print":false,"meta":{"module":"list","name":"Add"},"argCount":4,"args":[{"name":"__none__"},{"name":"list","value":"target","usedVars":["target"],"jsValue":"target_"},{"name":"item","value":"posi","usedVars":["posi"],"jsValue":"posi_"},{"name":"method","value":"'to_end'","jsValue":"'to_end'","usedVars":[]}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2~children~7~children~4"}]}],"variable":"posi","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2"},{"type":17,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~2","ID":"prod-ejmhyqtdi0j","enabled":true,"print":false,"argCount":1,"args":[{"name":"Value","value":"[source, target]","usedVars":["source","target"],"jsValue":"[source_, target_]"}]}],"variable":null},{"type":16,"ID":"prod-sx384oculak","enabled":true,"print":false,"argCount":1,"meta":{"module":"","name":"","otherInfo":{"prev_name":"windArrow","num_returns":0,"collapsed":true}},"args":[{"name":"func_name","value":"windArrow","jsValue":"windArrow_"}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-n3g0esf46c","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"east_ray","jsValue":"east_ray_"},{"name":"value","value":"[[-1000, 0, 0], [300, 0, 0]]","usedVars":[],"jsValue":"[[-1000, 0, 0], [300, 0, 0]]"}],"variable":"east_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3"},{"type":0,"ID":"prod-4pn5tu8msro","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"up_ray","jsValue":"up_ray_"},{"name":"value","value":"[[0, 0, 0], [0, 0, 1]]","usedVars":[],"jsValue":"[[0, 0, 0], [0, 0, 1]]"}],"variable":"up_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3"},{"type":0,"ID":"prod-gpb9594rcda","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_ray","jsValue":"wind_ray_"},{"name":"value","value":"rayRot(east_ray, up_ray, @wind_direction )","usedVars":["east_ray","up_ray"],"jsValue":"rayRot(east_ray_, up_ray_,  __modules__.attrib.Get(__params__.model, null, 'wind_direction'))"}],"variable":"wind_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-es91gahwhps","enabled":true,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"ray_plines","jsValue":"ray_plines_"},{"name":"__model__"},{"name":"rays","value":"wind_ray","usedVars":["wind_ray"],"jsValue":"wind_ray_"},{"name":"scale","value":"50","usedVars":[],"jsValue":"50"}],"variable":"ray_plines"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-5f4t1x55wj3","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"ray_pgon0","jsValue":"ray_pgon0_"},{"name":"__model__"},{"name":"entities","value":"ray_plines[0]","usedVars":["ray_plines"],"jsValue":"ray_plines_[pythonList(0, ray_plines_.length)]"},{"name":"dist","value":"20","usedVars":[],"jsValue":"20"},{"name":"limit","value":"10","usedVars":[],"jsValue":"10"},{"name":"end_type","value":"'butt_end'","jsValue":"'butt_end'","usedVars":[]}],"variable":"ray_pgon0"},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-10neqp9tr1np","enabled":true,"print":false,"meta":{"module":"poly2d","name":"OffsetMitre"},"argCount":6,"args":[{"name":"var_name","value":"ray_pgons1","jsValue":"ray_pgons1_"},{"name":"__model__"},{"name":"entities","value":"ray_plines[1 :]","usedVars":["ray_plines"],"jsValue":"ray_plines_.slice(1)"},{"name":"dist","value":"20","usedVars":[],"jsValue":"20"},{"name":"limit","value":"10","usedVars":[],"jsValue":"10"},{"name":"end_type","value":"'square_end'","jsValue":"'square_end'","usedVars":[]}],"variable":"ray_pgons1","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-06pyeq0s648j","enabled":true,"print":false,"meta":{"module":"poly2d","name":"Union"},"argCount":3,"args":[{"name":"var_name","value":"ray_pgon","jsValue":"ray_pgon_"},{"name":"__model__"},{"name":"entities","value":"[ray_pgon0, ray_pgons1]","usedVars":["ray_pgon0","ray_pgons1"],"jsValue":"[ray_pgon0_, ray_pgons1_]"}],"variable":"ray_pgon"},{"type":8,"ID":"prod-oby3bap2dg","enabled":true,"print":false,"meta":{"module":"modify","name":"Delete"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"[ray_pgon0, ray_pgons1, ray_plines]","usedVars":["ray_plines","ray_pgon0","ray_pgons1"],"jsValue":"[ray_pgon0_, ray_pgons1_, ray_plines_]"},{"name":"method","value":"'delete_selected'","usedVars":[],"jsValue":"'delete_selected'"}],"selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-kd9khntqq1i","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"label_pln","jsValue":"label_pln_"},{"name":"value","value":"plnMake(wind_ray[0], wind_ray[1], vecCross([0, 0, 1], wind_ray[1]))","usedVars":["wind_ray"],"jsValue":"plnMake(wind_ray_[pythonList(0, wind_ray_.length)], wind_ray_[pythonList(1, wind_ray_.length)], vecCross([0, 0, 1], wind_ray_[pythonList(1, wind_ray_.length)]))"}],"variable":"label_pln"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-8bywhzy3mfs","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"label_pln","jsValue":"label_pln_"},{"name":"value","value":"plnLMove(label_pln, [30, -15, 1])","usedVars":["label_pln"],"jsValue":"plnLMove(label_pln_, [30, -15, 1])"}],"variable":"label_pln"},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~3","ID":"prod-xauibmowpb8","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"@labels","jsValue":"@labels","usedVars":[]},{"name":"value","value":"[{\"text\": \"WIND\",\"size\": 30,\"location\": label_pln}]","usedVars":["label_pln"],"jsValue":"[{\"text\": \"WIND\",\"size\": 30,\"location\": label_pln_}]"}],"variable":null}],"variable":null},{"type":16,"ID":"prod-nc6ojliryz","enabled":true,"print":false,"argCount":3,"meta":{"module":"","name":"","otherInfo":{"prev_name":"sourceAndTragetArrows","num_returns":0,"collapsed":true}},"args":[{"name":"func_name","value":"sourceAndTragetArrows","jsValue":"sourceAndTragetArrows_"},{"name":"arg_1","value":"sources","jsValue":"sources_","usedVars":["sources"]},{"name":"arg_2","value":"targets","jsValue":"targets_","usedVars":["targets"]}],"children":[{"type":13,"ID":"","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"ID":"prod-i0ms9nx53op","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"east_ray","jsValue":"east_ray_"},{"name":"value","value":"[[0, 0, 0], [1, 0, 0]]","usedVars":[],"jsValue":"[[0, 0, 0], [1, 0, 0]]"}],"variable":"east_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4"},{"type":0,"ID":"prod-jscmaqhyqtm","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"up_ray","jsValue":"up_ray_"},{"name":"value","value":"[[0, 0, 0], [0, 0, 1]]","usedVars":[],"jsValue":"[[0, 0, 0], [0, 0, 1]]"}],"variable":"up_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4"},{"type":0,"ID":"prod-3fg429wtc12","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"wind_ray","jsValue":"wind_ray_"},{"name":"value","value":"rayRot(east_ray, up_ray, @wind_direction )","usedVars":["east_ray","up_ray"],"jsValue":"rayRot(east_ray_, up_ray_,  __modules__.attrib.Get(__params__.model, null, 'wind_direction'))"}],"variable":"wind_ray","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4"},{"type":0,"ID":"prod-x2ghfc6bjvr","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"dir","jsValue":"dir_"},{"name":"value","value":"vecSetLen(wind_ray[1], 50)","usedVars":["wind_ray"],"jsValue":"vecSetLen(wind_ray_[pythonList(1, wind_ray_.length)], 50)"}],"variable":"dir","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4"},{"type":4,"ID":"prod-1lqp0s8o7ii","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"source","jsValue":"source_"},{"name":"list","value":"sources","usedVars":["sources"],"jsValue":"sources_"}],"children":[{"type":13,"ID":"prod-0yxm1zvl6deh","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~5","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~5","ID":"prod-s6ur9r461r","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"dir","jsValue":"dir_"},{"name":"value","value":"vecSetLen(source@normal , -50)","usedVars":["source"],"jsValue":"vecSetLen( __modules__.attrib.Get(__params__.model, source_, 'normal'), -50)"}],"variable":"dir","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~5","ID":"prod-kmisfqy4gu","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"origin","jsValue":"origin_"},{"name":"value","value":"vecSub(source@xyz , dir)","usedVars":["dir","source"],"jsValue":"vecSub( __modules__.attrib.Get(__params__.model, source_, 'xyz'), dir_)"}],"variable":"origin","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~5","ID":"prod-8dotv4aovgw","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray","jsValue":"ray_"},{"name":"value","value":"rayMake(origin, dir)","usedVars":["dir","origin"],"jsValue":"rayMake(origin_, dir_)"}],"variable":"ray","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~5","ID":"prod-3e5kp1hohub","enabled":true,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"__model__"},{"name":"rays","value":"ray","usedVars":["ray"],"jsValue":"ray_"},{"name":"scale","value":"10","usedVars":[],"jsValue":"10"}],"variable":"v","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~5","ID":"prod-1m8yz4tl9ox","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"v","usedVars":["v"],"jsValue":"v_"},{"name":"dist","value":"10","usedVars":[],"jsValue":"10"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false}],"variable":"source","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4"},{"type":4,"ID":"prod-hdq44p1z71a","enabled":true,"print":false,"argCount":2,"args":[{"name":"item","value":"target","jsValue":"target_"},{"name":"list","value":"targets","usedVars":["targets"],"jsValue":"targets_"}],"children":[{"type":13,"ID":"prod-lczhd6gppbr","parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-faaw6i23pjn","enabled":false,"print":false,"argCount":2,"args":[{"name":"var_name","value":"dir","jsValue":"dir_"},{"name":"value","value":"vecSetLen(target@normal , 50)","usedVars":["target"],"jsValue":"vecSetLen( __modules__.attrib.Get(__params__.model, target_, 'normal'), 50)"}],"variable":"dir","selectGeom":false},{"type":0,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-0itcaot62x6e","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"ray","jsValue":"ray_"},{"name":"value","value":"rayMake(target@xyz , dir)","usedVars":["dir","target"],"jsValue":"rayMake( __modules__.attrib.Get(__params__.model, target_, 'xyz'), dir_)"}],"variable":"ray","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-7jfpfq8u5x2","enabled":true,"print":false,"meta":{"module":"visualize","name":"Ray"},"argCount":4,"args":[{"name":"var_name","value":"v","jsValue":"v_"},{"name":"__model__"},{"name":"rays","value":"ray","usedVars":["ray"],"jsValue":"ray_"},{"name":"scale","value":"10","usedVars":[],"jsValue":"10"}],"variable":"v","selectGeom":false},{"type":8,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4~children~6","ID":"prod-8kwqy8861z5","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"ex","jsValue":"ex_"},{"name":"__model__"},{"name":"entities","value":"v","usedVars":["v"],"jsValue":"v_"},{"name":"dist","value":"10","usedVars":[],"jsValue":"10"},{"name":"divisions","value":"1","usedVars":[],"jsValue":"1"},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"ex","selectGeom":false}],"variable":"target","selectGeom":false,"parent":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~localFunc~4"}],"variable":null}],"state":{"procedure":[],"show_code":true,"show_func":true},"hasError":false,"hasExecuted":true,"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_ap4saj1ul6g","position":{"x":5280,"y":5600},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","jsValue":""},{"name":"value","value":"","jsValue":"","usedVars":[]}],"print":false,"enabled":true,"selectGeom":false}],"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode"}}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode"},"hasExecuted":true,"hasError":false}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0"},"hasError":false,"hasExecuted":true},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~1"],"functions":[],"ordered":true,"last_updated":"2020-09-24T08:39:17.583Z"},"version":"0.6.1","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":false,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"positions\":{\"show\":false,\"size\":3.4},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":false},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-541.2252713593487,\"y\":-1002.0402944134138,\"z\":687.8651766867155},\"pos_x\":-541.2252713593487,\"pos_y\":-1002.0402944134138,\"pos_z\":687.8651766867155,\"target\":{\"x\":-95.36798694408492,\"y\":-109.0517015443224,\"z\":-66.16973083058477},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#FFFFFF\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.15},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.24},\"directional_light\":{\"show\":true,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":0.87,\"shadow\":true,\"shadowSize\":4,\"azimuth\":90,\"altitude\":45,\"distance\":10000,\"type\":\"directional\"},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":0,\"name\":\"Positions\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"background\":{\"show\":true,\"background_set\":0},\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2020-06-21\"},\"updated\":true}}"}