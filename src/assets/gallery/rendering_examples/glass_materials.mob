{"name":"glass_materials","author":"new_user","flowchart":{"name":"Glass Materials","description":"This example show how to define two materials and how to apply them to some polygons.\n\nOne of the materials is a glass material.\n","language":"js","meta":{"selected_nodes":[0]},"nodes":[{"name":"Start","id":"node_ycr2eb1xu8","position":{"x":5360,"y":5020},"enabled":true,"type":"start","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true}],"state":{"procedure":[],"show_code":false,"show_func":false},"input":{"name":"input","type":0,"edges":[],"meta":{"mode":0,"opts":{}},"parentNode":"~flowchart~nodes~0"},"output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"make some geometry","id":"node_69sjv6akar3","position":{"x":5360,"y":5120},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":8,"ID":"prod-97amtevjgqb","enabled":true,"print":false,"meta":{"module":"pattern","name":"Rectangle"},"argCount":4,"args":[{"name":"var_name","value":"rec","jsValue":"rec_"},{"name":"__model__","default":0},{"name":"origin","value":"XY","default":0,"jsValue":"JSON.parse(JSON.stringify(XY))","usedVars":[]},{"name":"size","value":"123","default":0,"jsValue":"123","usedVars":[]}],"variable":"rec"},{"type":8,"ID":"prod-a4di3jeytun","enabled":true,"print":false,"meta":{"module":"make","name":"Polyline"},"argCount":4,"args":[{"name":"var_name","value":"pl","jsValue":"pl_"},{"name":"__model__","default":0},{"name":"positions","value":"rec","default":0,"jsValue":"rec_","usedVars":["rec"]},{"name":"close","value":"'close'","default":0,"jsValue":"'close'","usedVars":[]}],"variable":"pl"},{"type":8,"ID":"prod-m0h1au0aii","enabled":true,"print":false,"meta":{"module":"make","name":"Extrude"},"argCount":6,"args":[{"name":"var_name","value":"sides","jsValue":"sides_"},{"name":"__model__"},{"name":"entities","value":"pl","jsValue":"pl_","usedVars":["pl"]},{"name":"distance","value":"123","jsValue":"123","usedVars":[]},{"name":"divisions","value":"1","jsValue":"1","usedVars":[]},{"name":"method","value":"'quads'","jsValue":"'quads'","usedVars":[]}],"variable":"sides"},{"type":0,"ID":"prod-aa4il6l67i","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"sides@type","jsValue":"sides_@type","usedVars":["sides"]},{"name":"value","value":"\"wall\"","jsValue":"\"wall\"","usedVars":[]}],"variable":null},{"type":8,"ID":"prod-q0m0f9hq3sl","enabled":true,"print":false,"meta":{"module":"calc","name":"Plane"},"argCount":3,"args":[{"name":"var_name","value":"plane","jsValue":"plane_"},{"name":"__model__"},{"name":"entities","value":"sides[2]","usedVars":["sides"],"jsValue":"sides_[pythonList(2, sides_.length)]"}],"variable":"plane"},{"type":8,"ID":"prod-lb8n2ps79ke","enabled":true,"print":false,"meta":{"module":"make","name":"Copy"},"argCount":4,"args":[{"name":"var_name","value":"hole","jsValue":"hole_"},{"name":"__model__"},{"name":"entities","value":"sides[2]","usedVars":["sides"],"jsValue":"sides_[pythonList(2, sides_.length)]"},{"name":"vector","value":"[0, 0, 0]","usedVars":[],"jsValue":"[0, 0, 0]"}],"variable":"hole"},{"type":0,"ID":"prod-8v4i67ppnr","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"hole@type","jsValue":"hole_@type","usedVars":["hole"]},{"name":"value","value":"\"window\"","jsValue":"\"window\"","usedVars":[]}],"variable":null},{"type":8,"ID":"prod-caolac4qeie","enabled":true,"print":false,"meta":{"module":"modify","name":"Scale"},"argCount":5,"args":[{"name":"__none__"},{"name":"__model__","default":0},{"name":"entities","value":"hole","default":0,"jsValue":"hole_","usedVars":["hole"]},{"name":"origin","value":"plane","default":0,"jsValue":"plane_","usedVars":["plane"]},{"name":"scale","value":"0.8","default":0,"jsValue":"0.8","usedVars":[]}]},{"type":8,"ID":"prod-4a5ylup4lw3","enabled":true,"print":false,"meta":{"module":"edit","name":"Hole"},"argCount":4,"args":[{"name":"var_name","value":"wire","jsValue":"wire_"},{"name":"__model__"},{"name":"pgon","usedVars":["sides"],"value":"sides[2]","jsValue":"sides_[pythonList(2, sides_.length)]"},{"name":"entities","usedVars":["hole"],"value":"hole#ps","jsValue":"__modules__.query.Get(__params__.model, 'ps', hole_)"}],"variable":"wire"}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"apply materials","id":"node_rv0sdb7ck48","position":{"x":5360,"y":5260},"enabled":true,"type":"","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":14,"ID":"prod-teg3i5s43zo","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"get geometric entities"}],"selectGeom":false},{"type":0,"ID":"prod-2mro4isjxsv","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"walls","jsValue":"walls_"},{"name":"value","value":"#pg ?@type==\"wall\"","jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"wall\")","usedVars":[]}],"variable":"walls"},{"type":0,"ID":"prod-shzv26gujb","enabled":true,"print":false,"argCount":2,"args":[{"name":"var_name","value":"windows","jsValue":"windows_"},{"name":"value","value":"#pg ?@type==\"window\"","jsValue":"__modules__.query.Filter(__params__.model,  __modules__.query.Get(__params__.model, 'pg', null), ['type', null], '==', \"window\")","usedVars":[]}],"variable":"windows","selectGeom":false},{"type":14,"ID":"prod-z5kgmoznms","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"create materials"}]},{"type":8,"ID":"prod-ljb4eoaiwjn","enabled":true,"print":false,"meta":{"module":"material","name":"MeshMat"},"argCount":7,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"name","value":"\"solid\"","usedVars":[],"jsValue":"\"solid\""},{"name":"color","value":"[0, 1, 0]","usedVars":[],"jsValue":"[0, 1, 0]"},{"name":"opacity","value":"1","usedVars":[],"jsValue":"1"},{"name":"select_side","value":"'both'","usedVars":[],"jsValue":"'both'"},{"name":"select_vert_colors","value":"'none'","usedVars":[],"jsValue":"'none'"}]},{"type":8,"ID":"prod-410ufd4prin","enabled":true,"print":false,"meta":{"module":"material","name":"Phong"},"argCount":6,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"name","value":"\"solid\"","usedVars":[],"jsValue":"\"solid\""},{"name":"emissive","value":"[0, 0, 0]","usedVars":[],"jsValue":"[0, 0, 0]"},{"name":"specular","value":"[1, 1, 1]","usedVars":[],"jsValue":"[1, 1, 1]"},{"name":"shininess","value":"80","usedVars":[],"jsValue":"80"}]},{"type":8,"ID":"prod-dej618xet3","enabled":true,"print":false,"meta":{"module":"material","name":"Glass"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"name","value":"\"glass\"","usedVars":[],"jsValue":"\"glass\""},{"name":"opacity","value":"0.6","usedVars":[],"jsValue":"0.6"}]},{"type":14,"ID":"prod-3c6q3xw1zvm","enabled":true,"print":false,"argCount":1,"args":[{"name":"comment","value":"apply materials"}]},{"type":8,"ID":"prod-0nl1ynma5nm","enabled":true,"print":false,"meta":{"module":"material","name":"Set"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"walls","usedVars":["walls"],"jsValue":"walls_"},{"name":"material","value":"\"solid\"","usedVars":[],"jsValue":"\"solid\""}]},{"type":8,"ID":"prod-hss7ozk190r","enabled":true,"print":false,"meta":{"module":"material","name":"Set"},"argCount":4,"args":[{"name":"__none__"},{"name":"__model__"},{"name":"entities","value":"windows","usedVars":["windows"],"jsValue":"windows_"},{"name":"material","usedVars":[],"value":"\"glass\"","jsValue":"\"glass\""}],"selectGeom":false}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[{"source":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output","target":{"name":"input","type":0,"edges":["~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"meta":{"mode":0,"opts":{}},"parentNode":{"name":"End","id":"node_5t6x4vc3poq","position":{"x":5360,"y":5360},"enabled":true,"type":"end","procedure":[{"type":13,"ID":"","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true},{"type":11,"ID":"Return","meta":{"name":"","module":""},"argCount":2,"args":[{"name":"__model__","value":"","default":0},{"name":"value","value":"","default":0,"usedVars":[]}],"print":false,"enabled":true}],"state":{"procedure":[],"show_code":true,"show_func":true},"input":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target","output":{"name":"output","type":1,"edges":[],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}]}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","model":null},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}]}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0~output~edges~0~target~parentNode","model":null},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}]}},"selected":false}],"meta":{"mode":0},"parentNode":"~flowchart~nodes~0","model":null},"hasError":false,"hasExecuted":true,"localFunc":[{"type":13,"ID":"local_func_blank","meta":{"name":"","module":""},"argCount":0,"args":[],"print":false,"enabled":true,"selectGeom":false}]},"~flowchart~nodes~0~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0~target~parentNode"],"edges":["~flowchart~nodes~0~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0","~flowchart~nodes~0~output~edges~0~target~parentNode~output~edges~0~target~parentNode~output~edges~0"],"functions":[],"ordered":true,"id":"5c9c65f9-54ee-67d0-6db0-2c9ad3521e74","last_updated":"2020-12-22T04:59:32.310Z","model":{"debug":true,"metadata":{"_data":{"posi_count":12,"vert_count":28,"tri_count":18,"edge_count":28,"wire_count":7,"point_count":0,"pline_count":1,"pgon_count":5,"coll_count":0,"attrib_values":{"number":[[],{}],"string":[["wall","window"],{}],"list":[[[-61.5,-61.5,0],[61.5,-61.5,0],[61.5,61.5,0],[-61.5,61.5,0],[-61.5,-61.5,123],[61.5,-61.5,123],[61.5,61.5,123],[-61.5,61.5,123],[49.2,61.5,12.299999999999997],[-49.2,61.5,12.299999999999997],[-49.2,61.5,110.7],[49.2,61.5,110.7],["solid"],["glass"]],{}],"dict":[[],{}]}}},"modeldata":{"active_ssid":5,"_max_timestamp":5,"debug":true,"funcs_common":{"modeldata":"~flowchart~model~modeldata"},"funcs_make":{"modeldata":"~flowchart~model~modeldata"},"funcs_edit":{"modeldata":"~flowchart~model~modeldata"},"funcs_modify":{"modeldata":"~flowchart~model~modeldata"},"model":"~flowchart~model","geom":{"_geom_maps":{"dn_verts_posis":{},"dn_tris_verts":{},"dn_edges_verts":{},"dn_wires_edges":{},"dn_pgons_tris":{},"dn_points_verts":{},"dn_plines_wires":{},"dn_pgons_wires":{},"up_posis_verts":{},"up_tris_pgons":{},"up_verts_edges":{},"up_verts_tris":{},"up_edges_wires":{},"up_verts_points":{},"up_wires_plines":{},"up_wires_pgons":{},"colls":{}},"modeldata":"~flowchart~model~modeldata","imp_exp":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"add":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"del_vert":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"edit_topo":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"edit_pline":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"edit_pgon":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"nav":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"nav_tri":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"query":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"check":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"compare":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"threejs":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"snapshot":{"ss_data":{},"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"nav_snapshot":{"modeldata":"~flowchart~model~modeldata","_geom_maps":"~flowchart~model~modeldata~geom~_geom_maps"},"selected":{}},"attribs":{"attribs_maps":{},"modeldata":"~flowchart~model~modeldata","merge":{"modeldata":"~flowchart~model~modeldata"},"imp_exp":{"modeldata":"~flowchart~model~modeldata"},"add":{"modeldata":"~flowchart~model~modeldata"},"del":{"modeldata":"~flowchart~model~modeldata"},"get":{"modeldata":"~flowchart~model~modeldata"},"set":{"modeldata":"~flowchart~model~modeldata"},"push":{"modeldata":"~flowchart~model~modeldata"},"posis":{"modeldata":"~flowchart~model~modeldata"},"query":{"modeldata":"~flowchart~model~modeldata"},"snapshot":{"modeldata":"~flowchart~model~modeldata"},"threejs":{"modeldata":"~flowchart~model~modeldata"}},"comparator":{"modeldata":"~flowchart~model~modeldata"},"threejs":{"modeldata":"~flowchart~model~modeldata"}}}},"version":"0.7.1","settings":"{\"normals\":{\"show\":false,\"size\":5},\"axes\":{\"show\":true,\"size\":50},\"grid\":{\"show\":true,\"size\":500,\"pos_x\":0,\"pos_y\":0,\"pos_z\":0,\"pos\":{\"x\":0,\"y\":0,\"z\":0}},\"background\":{\"show\":true,\"background_set\":0},\"positions\":{\"show\":false,\"size\":7},\"tjs_summary\":{\"show\":false},\"gi_summary\":{\"show\":false},\"wireframe\":{\"show\":false},\"camera\":{\"pos\":{\"x\":-163.46611644443092,\"y\":-300.6811914110448,\"z\":254.49111122374566},\"target\":{\"x\":0,\"y\":0,\"z\":0},\"ortho\":false},\"colors\":{\"viewer_bg\":\"#E6E6E6\",\"position\":\"#000000\",\"position_s\":\"#0033FF\",\"vertex_s\":\"#FFCC00\",\"face_f\":\"#ffffff\",\"face_f_s\":\"#4949BD\",\"face_b\":\"#DDDDDD\",\"face_b_s\":\"#00006D\"},\"ambient_light\":{\"show\":true,\"color\":\"#FFFFFF\",\"intensity\":0.15},\"hemisphere_light\":{\"show\":true,\"helper\":false,\"skyColor\":\"#FFFFFF\",\"groundColor\":\"#FFFFFF\",\"intensity\":0.15},\"directional_light\":{\"show\":true,\"helper\":false,\"color\":\"#FFFFFF\",\"intensity\":1,\"shadow\":true,\"azimuth\":90,\"altitude\":45,\"distance\":10,\"type\":\"directional\",\"shadowSize\":3072},\"ground\":{\"show\":false,\"width\":1000,\"length\":1000,\"height\":-0.5,\"color\":\"#FFFFFF\",\"shininess\":0},\"select\":{\"selector\":{\"id\":7,\"name\":\"Polygons\"},\"tab\":\"0\",\"enabledselector\":{\"ps\":true,\"_v\":true,\"_e\":true,\"_w\":true,\"_f\":true,\"pt\":true,\"pl\":true,\"pg\":true,\"co\":true}},\"version\":\"0.4.38\",\"cesium\":{\"imagery\":{\"layer\":\"Open Street Map\",\"terrain\":\"Ellipsoid\",\"apiKey\":{\"here\":\"7vMRjLNCpcOAUQXU61eUp6EFbWCy7WLNmy9qLHO-1Bw\"}},\"camera\":{\"pos\":{\"x\":0,\"y\":0,\"z\":0},\"direction\":{\"x\":0,\"y\":0,\"z\":0},\"up\":{\"x\":0,\"y\":0,\"z\":0},\"right\":{\"x\":0,\"y\":0,\"z\":0}},\"time\":{\"date\":\"2020-05-11T04:37\"},\"updated\":true,\"model\":{\"polygonEdge\":true}}}"}